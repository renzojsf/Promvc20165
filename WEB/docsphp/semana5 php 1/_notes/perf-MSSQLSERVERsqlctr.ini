ocumentation"> <p>Dans le volet de gauche, s&eacute;lectionnez les &eacute;l&eacute;ments &agrave; g&eacute;rer dans l'arborescence qui s'affiche. Dans le volet de droite, plusieurs t&acirc;ches administratives sont list&eacute;es dans la section intitul&eacute;e T&acirc;ches courantes. </p> </li>
</ol><a name="toc-8"></a> <h3><img style="border: 0px solid ; width: 20px; height: 20px;" src="graphics/procedure.gif" alt="Procedure">Pour consulter le fichier journal du serveur d'administration de domaine</h3> <p>Les instances d'Application Server et le serveur d'administration de serveur g&eacute;n&egrave;rent des journaux annot&eacute;s dans le syst&egrave;me de fichiers. Par d&eacute;faut, l'ensemble des erreurs, avertissements ou messages d'information utiles sont consign&eacute;s.</p> <ol>
<li> <p><b>Dans la liste T&acirc;ches courantes du volet de droite, cliquez sur Rechercher des fichiers journaux pour acc&eacute;der &agrave; une nouvelle fen&ecirc;tre de navigation du visionneur de journaux.</b> </p><img class="figure" style="width: 700px; height: 706px;" title="The Log Viewer provides view, search, and filter options." src="figures/ServerStartPagePE.gif"
alt="The Log Viewer provides view, search, and filter options."></li>
<li> <p><b>Dans la fen&ecirc;tre Visionneur de journaux, s&eacute;lectionnez "serveur" dans la liste d&eacute;roulante Nom de l'instance, puis cliquez sur Rechercher.</b></p> <p>Les entr&eacute;es r&eacute;centes du fichier journal du serveur d'administration de domaine apparaissent.</p> </li>
<li> <p><b>Analysez les messages et recherchez d'&eacute;ventuels messages <tt>AVERTISSEMENT</tt> ou <tt>GRAVE</tt> indiquant que des probl&egrave;mes se sont produits lors du d&eacute;marrage du serveur.</b></p> <p>Vous pouvez &agrave; tout moment fermer le visionneur de journaux. Apr&egrave;s avoir cr&eacute;&eacute; des clusters et d&eacute;ploy&eacute; des applications, v&eacute;rifiez les fichiers journaux pour savoir si l'une des op&eacute;rations a &eacute;chou&eacute;. Utilisez le visionneur de journaux pour consulter les fichiers journaux de toute instance d'Application Server ex&eacute;cut&eacute;e dans le domaine.</p> <p>Pour plus d'informations sur le fichier journal, reportez-vous au chapitre "Configuration de la journalisation" du <a href="http://docs.sun.com/doc/819-3671"><i>Guide d'administration de Sun Java System Application Server 9.1</i></a>. </p> </li>
</ol><a name="gehwj"></a> <h3><img style="border: 0px solid ; width: 20px; height: 20px;" src="graphics/procedure.gif" alt="Procedure">Pour d&eacute;marrer l'agent de n&oelig;ud</h3> <p>Un <b>agent de n&oelig;ud</b> est un processus de poids l&eacute;ger ex&eacute;cut&eacute; sur chaque machine appartenant &agrave; un domaine administratif d'Application Server. L'agent de n&oelig;ud est charg&eacute; de d&eacute;marrer et d'arr&ecirc;ter des instances du serveur sur l'h&ocirc;te. Il communique &eacute;galement avec le serveur d'administration de domaine pour cr&eacute;er de nouvelles instances d'Application Server. </p> <hr noshade="noshade" size="1"> <p><b>Remarque : </b>Vous ne pouvez utiliser des agents de n&oelig;ud que sur des domaines dot&eacute;s du profil cluster ou entreprise. Si vous ex&eacute;cutez uniquement un domaine de d&eacute;veloppeur, vous devez cr&eacute;er un domaine associ&eacute; au profil cluster avant de pouvoir cr&eacute;er et utiliser des agents de n&oelig;ud.&nbsp;Pour plus d'informations sur la cr&eacute;ation de domaines, saisissez  <tt>asadmin create-domain</tt> <tt>--help</tt> ou reportez-vous <span
style="text-decoration: underline;"></span>au <a href="http://docs.sun.com/doc/819-3675"><i>Manuel de r&eacute;f&eacute;rence de Sun Java System Application Server 9.1</i></a></p> <hr noshade="noshade" size="1"> <p>Un agent de n&oelig;ud est n&eacute;cessaire sur une machine pour chaque domaine administratif d'Application Server auquel appartient la machine. Si vous avez choisi le composant Agent de n&oelig;ud durant l'installation, un agent de n&oelig;ud par d&eacute;faut appel&eacute; <i>hostname</i> a &eacute;t&eacute; cr&eacute;&eacute;.</p> <ol>
<li> <p><b>Dans une fen&ecirc;tre de terminal, saisissez la commande suivante :</b></p> <p><tt>asadmin start-node-agent</tt> <i>hostname</i></p> <p>Remplacez la variable <i>hostname</i> par le nom de l'h&ocirc;te o&ugrave; est ex&eacute;cut&eacute; Application Server.</p> </li>
<li> <p><b>Lorsque vous y &ecirc;tes invit&eacute;, entrez le mot de passe principal.</b></p> <p>L'agent de n&oelig;ud est d&eacute;marr&eacute; et se connecte au serveur d'administration de domaine. </p> <hr noshade="noshade" size="1"> <p>Assurez-vous que le serveur d'administration de domaine est actif avant de d&eacute;marrer l'agent de n&oelig;ud. V&eacute;rifiez le fichier <kbd>server.</kbd><kbd>log</kbd> d'une instance de cluster pour identifier tout probl&egrave;me relatif au d&eacute;marrage des agents de n&oelig;ud ou des instances de cluster.</p> <p>Si vous rencontrez des probl&egrave;mes lors du d&eacute;marrage d'un agent de n&oelig;ud ou d'un cluster sous Windows, consultez les  <a href="http://docs.sun.com/app/docs/doc/819-3666"><cite>Notes de publication de Sun Java System Application Server 9.1</cite></a> pour rechercher d'&eacute;ventuelles solutions.</p> <hr noshade="noshade" size="1"></li>
</ol> <p>Une fois l'agent de n&oelig;ud initialement ex&eacute;cut&eacute;, vous pouvez le visualiser dans la console d'administration. Vous pouvez cr&eacute;er des agents de n&oelig;ud &agrave; l'aide de la commande <kbd>asadmin create-node-agent</kbd>. Pour obtenir des informations sur la cr&eacute;ation d'agents de n&oelig;ud, saisissez <tt>asadmin create-node-agent</tt> <tt>--help</tt>, consultez le <a
href="http://docs.sun.com/app/docs/doc/819-3675"><cite>Manuel de r&eacute;f&eacute;rence de Sun Java System Application Server 9.1.</cite></a><a
href="http://docs.sun.com/app/docs/doc/819-3675"></a></p> <br> <h5>&Eacute;tapes suivantes</h5> <p>Dans cette section, vous avez d&eacute;marr&eacute; le serveur d'administration de domaine et v&eacute;rifi&eacute; son bon fonctionnement. Vous vous &ecirc;tes &eacute;galement connect&eacute; &agrave; la console d'administration et avez utilis&eacute; le visionneur de journaux. Vous avez d&eacute;marr&eacute; l'agent de n&oelig;ud. Vous pouvez arr&ecirc;ter la s&eacute;quence de d&eacute;marrage rapide si vous ne souhaitez pas continuer ou bien passer &agrave; la section suivante. </p><a name="gehwz"></a> <h2>Autres ressources</h2> <p>Les &eacute;tapes suivantes du <i>Guide de d&eacute;marrage rapide</i> sont disponibles dans les chapitres suivants. </p> <p>Ces chapitres sont uniquement disponibles dans le <a href="http://docs.sun.com/doc/819-3193"><i>Guide de d&eacute;marrage rapide de Sun Java System Application Server 9.1</i></a>, publi&eacute; sur docs.sun.com.</p> <ul>
<li> <p><a href="http://docs.sun.com/doc/819-3193/gatqf">Chapitre 2 :</a> <a href="http://docs.sun.com/doc/819-3193/gatqf">Configuration d'un cluster</a> <br>&Eacute;tapes de cr&eacute;ation d'un cluster.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3193/gehqs">Chapitre 3 :</a><a href="http://docs.sun.com/doc/819-3193/gehqs">&nbsp; D&eacute;ploiement d'une application</a> <br>D&eacute;ploiement d'un exemple d'application sur un cluster.<br> </p> </li>
<li><a href="http://docs.sun.com/doc/819-3193/gatje">Chapitre 4 :</a> <a href="http://docs.sun.com/doc/819-3193/gatje">Configuration de l'&eacute;quilibrage de charge</a> <br>&Eacute;tapes de cr&eacute;ation et d'utilisation d'un &eacute;quilibreur de charge. Requiert l'installation du plug-in d'&eacute;quilibreur de charge et le serveur Web.<br> <br> </li>
<li><a href="http://docs.sun.com/doc/819-3193/aboaw">Chapitre 5 :</a> <a href="http://docs.sun.com/doc/819-3193/aboaw">Configuration du basculement haute disponibilit&eacute;</a> <br>&Eacute;tapes de configuration du basculement haute disponibilit&eacute;. <br> </li>
</ul> <p>D'autres ressources vous permettant d'en savoir davantage sur le logiciel Application Server et son utilisation sont disponibles. Elles comprennent :</p> <ul>
<li> <p>des d&eacute;tails sur le produit sous <i>install-dir</i><tt>/docs/about.html</tt>.</p> <p>Consultez ce document pour obtenir les derni&egrave;res informations sur les nouveaut&eacute;s, ainsi que des pointeurs vers des didacticiels et autres services de formation.</p> </li>
<li> <p>Des exemples d'applications dans <i>install-dir</i><tt>/samples</tt></p> <p>Voir les exemples d'application pour des exemples d'Application Server.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3666"><i>Les Notes de publication de Sun Java System Application Server 9.1</i></a></p> <p>Consultez ce document pour obtenir les toutes derni&egrave;res informations sur cette version.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3671"><i>Le Guide d'administration de Sun Java System Application Server 9.1</i></a></p> <p>Consultez ce document pour obtenir des informations sur l'ex&eacute;cution de fonctions administratives &agrave; l'aide de la console d'administration.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3675">La <i> r&eacute;f&eacute;rence aux utilitaires</i> (pages de manuel)</a></p> <p>Consultez ce document pour obtenir des informations de r&eacute;f&eacute;rence sur les utilitaires de ligne de commande d'Application Server, tels que <tt>asadmin</tt>.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3679"><i>Le Guide d'administration haute disponibilit&eacute; de Sun Java System Application Server 9.1</i></a></p> <p>Consultez ce document pour obtenir des informations sur les fonctions haute disponibilit&eacute; de Sun Java System Application Server.</p> </li>
<li> <p><a href="http://docs.sun.com/app/docs/doc/819-3669"><i>Le Didacticiel Java EE 5</i></a></p> <p>Consultez ce didacticiel pour obtenir des informations sur la construction et le d&eacute;ploiement d'applications Java EE 5. </p> </li>
</ul><!--stopindex--> <br> <div align="center"><br>&nbsp; <a href="copyright.html">Copyright</a> 1994-2007 Sun Microsystems 
</div></body></html><?Pub *0000021509 0>
                                                                                  ßUl«•À3&êÜ;;gËcfem§@Ô’§çFŸmJ}Cmï«¹2³ÙLV„»—ÆŠ¤–Æ €Şy:JÔì>«Ôxß+kS›ö§ö­G±è—/Œô2ï~uÚ|wBµ|ÌÅÃÿ÷·®Ò_ú;ß´;ùèÅójâ—÷úéõ¸ô¯úİq‰˜;{/våã~É·B‹¯ş|°g°&¤;í/Ÿ³{##—“:lÓö!¿¤¥)›İî~k©÷»É45xzHèr¶“C½q®%æ»1Ï ­®‡˜†i	|ôXÆ@Âµ™§]ó¼[î¡3©´kü<?È<o¶â"4ŒéÑ„Ş¸hÌÜ2“/ZëF³zÕlì—#¤rnÌD¿˜GZ›³¼Vzı6ó~Îd£àUGÄSàaèÌ³èN™tÇFt†8cêÆ\+,¼Ûc°©6¹¯ÑAEÎ_4•îß¹”Ø6åw†,
ƒıÓàmê:á–ıkÔû¥Ï-Şïyïß‡+—x7>*Ë¥åGTêw«³oo(À_ƒwµj|ˆg•İ8´§ZşÛ:xVW]ÖßÙËZ“¨æÕÍêOj'pá1ø›Ûïf·´{÷x¬n)Ÿ\‹åÍKcT~ü¨ëD‹ßŞÄÖûìïˆõG÷1Å÷˜ƒ@xñòVÜ˜§ùÌ±òx¢9=æ;üÍÒZyÀ¯‡WØ{ÜM?ş?1´ûo¼FG)Åß—ôF°$†\)êo¥k[çc‹gma[å.ˆÏE­,n¥´Íwø=<Xù¾:`UŞş~IéüÚ|ò§Í
yíVããÙ¼VırU›`şŸ«êj¶2a‡chVÚhù²QrC@ï±[ Lí.Éj®¤C™öäŸ¿Zj¿¹ö)qëµtİ›Ëpr\reÿØa»İ2LµÓÄªMWIûò¥¬Ï§óéù­Îñº8+ÏÖbé>xLP~}›¡o?€´DéÎì?t¼ıw7ï–æ½‘ú;KÕ}zls&vÏ®µíH9áanm¬×´ıÜÆ/Ò¡¹³”G)ùÒ÷hG¢NæÔøŒÏ#c¶Äé$ÛOZMÜèBU¡ƒ·o«í—Òº®ïÚ\K··RwI{wÓŞ™äªÕyy¿éå=Ğ¿Í$İHhTi·ºcÅ‹2z’An§¡kŸÃåÎXùÔV—‘NsmDxœ OggS  €v     FëS    ô—”§ VVW]^j`adeiaihÿÿEÿôÿÿ;UXUVWW`cÿÿéz4\àu—Ïæmı.gLëŞf“¸Xj’ÒMğÛƒ]V“wp%Z{úì}ú`<ûø—^Ê[±`÷Z™æËÛsõITnê“ÆÍ"bibºËDª Üä¢tÅ¯ ¸İï£bšö¬~~­±ãiÓÊ)ê4^3«ÚHØÉ‰1U«/ìÉ>[ó¶¹!¦g½sUôu{=ÍSèpE«Z|	Ğ‘©‰Ó÷h¸´%éæäE©™àîs¬~ğaiÊÓ3F–lï¯­Ú9k#9¹¶îƒ…òíkqKÁìUyg¶/l§`tÙ’Ív©®S(™½æ€êÏWy»5j¥»^ËXíc]1{C0 üäfci!|	 ·ÀScÜv¨óˆÆNèæØ³3óîC7f I-Şñ£3ÍX€.-,èQ‘_şÎH İ¾'´ò––qcŠ$¹‘ªûofMšş»ÇtFŸä­´w ,ñöÁêÎöƒqØc]zx˜VX>°ş¤Û“qkUí>êÇÊ&¶[¨Å!?mÌ±ƒ0öà#ù8ÅC›²˜µÉôÛuõ=/C÷ãIj!4:p×¿öŞã,:SDåö^¶›û£3=cõG/¸à"ÓtŠÇnç¯ßßÌFÎ‘püí*—'ÿ¿ªï®3áïíEª{ñæfÛL×yÓ gmÈåŒ+Và—_
˜ïî‹oS»W_B=›½°XİÉÖÃö*:-åæ[ÏD¿(í!ûƒ×Ë§¸ŞÌ/‡4ÙJ/}g¾-ñÈ˜<™ŒôCşµšL‘ädIÄ'©hÙ}>w±®x­¦£_ãqÜPg]vsbí¬Û(}-à8ŠNœwSGñc+¿SE Líæ 21Ğ3b÷yu]×Õd¯×óã¥FoîÃ4ŸÓñ­¬ºß[1ÆHMîñ!PÓó‹˜¼s¯b…sÜÈë%Ä—ã#m²Ù,¢çQ‹{GtoŞvCwö¼ïâcÙGN Ún4ÑÑÇ€ìûey{ví?º±]î§»eéø.ŸdëçÎ¢l§ÛnØi¿ï¼vº¢ÚoÉ[R§Ÿ·¹¥ ¥æ“’µŞ‡s-¢p¢›İd‚£–ƒTTMÇQÅĞÁ1Ö÷ÅEà¬5V |Ñå©
Š„ş‡úQ÷oo§ãé¸êkéÛzÚ½ïËôp g1×›å7¯êbL^lİ\h	²\Í²²ñƒ¬fªŠGìŞïG–™ÑGÃbº°ºİó´Ÿ|­™€ó&ØÒ‹ ”Ñ²`GÕ0pU?şü’Ã~ÔñôóóCéë©;°ŸJºE„E¿>¹ì±]McaÏmízêƒ©ì¹x¢œ‰‹ÿ÷cPûé‘ìkãƒvVÊW¨ö7‹ÌiÖp˜³.G“OöÅ±-ş¿÷ù8­Š’ 3  ÄÉ1€œv@wëú0º;ÓúqâàÚ›s/*
######################################

  #  SUN.COM DEFAULT.CSS V2.9.2  #

COPYRIGHT SUN MICROSYSTEMS INC. 2003

    QUESTIONS?  webdesign@sun.com

######################################
*/

/* IMPORT FOR 5.X AND UP BROWSERS */
@import url("advanced.css");

/* FONT TAG OVERWRITE */
font {font-family:arial,helvetica,sans-serif !important}
font {font-size:10pt}

/* FONT FACES */
body,th,td,p,div,span,a,input,select,textarea,ul,ol,dl,h1,h2,h3,h4,h5,h6,li,big,small,b{font-family:arial,helvetica,sans-serif}
code,kbd,tt,pre,code a,kbd a,tt a,pre a,code span,kbd span,tt span,pre span{font-family:monaco,courier,"courier new"}
span.rightarrow,span.rightarrowblue,span.rightarrowred,span.rightarrowwhite{font-family:verdana,arial,sans-serif}

/* NN 4.X FONT SIZES */
.smaller,.smaller a,small,.small,small span,.small span,.small a,small a,div.sitelinks,div.sitelinks a,.breadcrumb{font-size:9pt}
body,th,td,p,div,span,a,ul,ol,dl,li,select,input,textarea,code,kbd,pre,code a,kbd a,pre a,code span,kbd span,pre span{font-size:10pt}
div.pagetitle{font-size:19pt}
div.smallpagetitle{font-size:18pt}
h1{font-size:26pt}
h2{font-size:22pt}
h3{font-size:18pt}
h4{font-size:16pt}
h5,h6{font-size:14pt}

/* GENERIC */
h1,h2,h3,h4,h5,h6{margin:3px 0px;padding-top:24px}
figure{padding-bottom:12px}
a{text-decoration:none}
a:visited{color:#96C}
a:link,a.named:visited,div.breadcrumb a:visited,div.sitelinks a:visited{color:#594FBF}
a:hover,b.error,span.error{text-decoration:underline}
dt{font-weight:bold;padding:5px 0px 0px 0px}
ul.li{list-style-type:square;list-style-image:url("ic_bullet.gif")}

/* FORMS */
form{display:inline}
form,select,input,textarea,ul li{margin:0px;padding:0px}

/* TEXT */
td.sectiontitle1,td.sectiontitle1 a,td.sectiontitle1 div,td.sectiontitle2,td.sectiontitle2 a,td.sectiontitle2 div{font-weight:bold}
div.pagetitle,div.smallpagetitle{padding:0px 10px;font-weight:bold;color:#000}
div.breadcrumb{color:#899CE6}
div.navtitle{padding:0px 0px 5px 0px;font-weight:bold}
p.compact{margin:0px}
p.compact2{margin:0px 0px 7px 0px}
span.rightarrowblue{color:#899CE6}
span.rightarrowred{color:#CC3335}
span.rightarrowwhite{color:#FFF}
.red,.sunblue .red,.sunyellow .red,b.error,span.error{color:#D12124}
.new{color:#F00}
.note{color:#000}
.new,.note{text-transform:uppercase;font-weight:bold}

/* SUN COLORS */
.sunred{background:#D12124}
.sunblue{background:#594FBF}
.sunyellow{background:#FBE249}
.sunred,.sunblue,td.sunred a,td.sunblue a{color:#FFF}
td.sunred b,td.sunred div.navtitle{color:#FFDE00;font-weight:bold}
td.sunred li,td.sunblue li,td.sunred ul,td.sunblue ul{color:#FFF;list-style-image:url("ic_bullet_white.gif")}
td.sunblue b,td.sunblue div.navtitle{color:#FFDE00}
td.sunyellow b,td.sunyellow div.navtitle,td.sunyellow a:link,td.sunyellow a:visited{color:#594FBF}
td.sunyellow a:hover{color:#594FBF;text-decoration:underline}

/* DIV PAD */
div.pad0x10,div.sitelinks,div.pagetitle2,div.breadcrumb{padding:0px 10px}
div.padbottom6{padding:0px 0px 6px 0px}
div.padtop6{padding:6px 0px 0px 0px}
div.pad6{padding:6px}
div.pad8{padding:8px}
div.pad10{padding:10px}
div.pad5x10{padding:5px 10px}
div.pad2x8{padding:2px 8px}
div.pad10x0{padding:10px 0px}
div.pad3x0{padding:3px 0px}
div.pad5x10x5x0{padding:5px 10px 5px 0px}
div.pad10x10x10x0{padding:10px 10px 10px 0px}
div.cellpadtop{padding:6px 6px 0px 6px}
div.cellpadbottom{padding:0px 6px 6px 6px}
div.headerpadding{padding:1px 10px}
div.gwpadding1{padding:2px 10px 7px 8px}
div.redwidgetpadding{padding:2px 0px 3px 0px}

/* SPACERS */
.sp10{font-size:8px !important}
.sp8{font-size:7px !important}
.sp5{font-size:4px !important}
.sp2{font-size:2px !important}

/* TABLE STYLES */
.redwidget{background:#D12124;color:#FFF;vertical-align:top}
td.redwidget b{color:#FFDE00}
td.redwidget a:link,td.redwidget a:visited{color:#FFF}
td.redwidget a:hover{color:#FBE249;text-decoration:none}
td.tablecaption,th.tablecaption,.tablecaption a{color:#FFF;background:#666;font-weight:bold}
td.tablecaption2,th.tablecaption2,.tablecaption2 a{color:#FFF;background:#000;font-weight:bold}
td.columncaption,th.columncaption{text-align:left;background:#FBF47C;font-weight:bold}
td.columncaption2,th.columncaption2{text-align:left;background:#CCC;font-weight:bold}
td.vatop,th.vatop,tr.vatop td,tr.vatop th,table.vatop td,table.vatop th,div.vatop{vertical-align:top}
td.vamiddle,th.vamiddle,tr.vamiddle td,tr.vamiddle th,table.vamiddle td,table.vamiddle th,div.vamiddle{vertical-align:middle}
td.vabottom,th.vabottom,tr.vabottom td,tr.vabottom th,table.vabottom td,table.vabottom th,div.vabottom{vertical-align:bottom}
table.loading,.loading {background-image: url(/im/loading_media.gif); background-repeat: no-repeat}

/* TABLE COLORS */
table.dkgrey{background:#666}
table.black{background:#000}
td.black,th.black,tr.black td,tr.black th,table tr td.black,table tr th.black{background:#000;color:#FFF}
td.dkgrey,th.dkgrey,tr.dkgrey td,tr.dkgrey th,table tr td.dkgrey,table tr th.dkgrey{background:#666;color:#FFF}
table.ltgrey,td.ltgrey,th.ltgrey,tr.ltgrey td,tr.ltgrey th,table tr td.ltgrey,table tr th.ltgrey{background:#CCC}
table.vltgrey,td.vltgrey,th.vltgrey,tr.vltgrey td,tr.vltgrey th,table tr td.vltgrey,table tr th.vltgrey{background:#DDD}
table.white,td.white,th.white,tr.white td,tr.white th,table tr td.white,table tr th.white,td.white,table.white1,td.white1,th.white1,tr.white1 td,tr.white1 th,table tr td.white1,table tr th.white1,td.white1{background:#FFF}
table.dkgrey1,td.dkgrey1,th.dkgrey1,tr.dkgrey1 td,tr.dkgrey1 th,table tr td.dkgrey1,table tr th.dkgrey1{background:#BBB}
table.grey1,td.grey1,th.grey1,tr.grey1 td,tr.grey1 th,table tr td.grey1,table tr th.grey1{background:#ECECEC}
table.grey2,td.grey2,th.grey2,tr.grey2 td,tr.grey2 th,table tr td.grey2,table tr th.grey2{background:#FDFDFD}
table.grey3,td.grey3,th.grey3,tr.grey3 td,tr.grey3 th,table tr td.grey3,table tr th.grey3{background:#E3E3E3}
table.navblue,td.navblue,th.navblue,tr.navblue td,tr.navblue th,table tr td.navblue,table tr th.navblue{background:#E4E9FF}
table.blue1,td.blue1,th.blue1,tr.blue1 td,tr.blue1 th,table tr td.blue1,table tr th.blue1{background:#8A9CE8}
table.yellow1,td.yellow1,th.yellow1,tr.yellow1 td,tr.yellow1 th,table tr td.yellow1,table tr th.yellow1{background:#FFC}
table.yellow2,td.yellow2,th.yellow2,tr.yellow2 td,tr.yellow2 th,table tr td.yellow2,table tr th.yellow2{background:#FFFFE2}

/* OLD 1 */
table.dkblue{background:#669}
table.dkred{background:#C33}
td.dkblue,th.dkblue,tr.dkblue td,tr.dkblue th,table tr td.dkblue,table tr th.dkblue{background:#669;color:#FFF}
table.ltblue,td.ltblue,th.ltblue,tr.ltblue td,tr.ltblue th,table tr td.ltblue,table tr th.ltblue{background:#CCF}
td.dkred,th.dkred,tr.dkred td,tr.dkred th,table tr td.dkred,table tr th.dkred{background:#C33;color:#FFF}
table.ltred,td.ltred,th.ltred,tr.ltred td,tr.ltred th,table tr td.ltred,table tr th.ltred{background:#F99}
.redbld,.rednote,.updated{color:#F00}
.whtbld,.blkbld,.redbld{font-weight:bold}
.blknote,.rednote,.updated{text-transform:uppercase;font-weight:bold}
a.nonu,a.nonuc,a.nonuw{text-decoration:none}
a.nonu,a.nonuc,a.unbl,a.blklink,.blkbld,.blknote{color:#000}
a.nonuw,a.undw,a.unwt,.whitehdr,.whtcopy,.whtbld{color:#FFF}
p.quote{color:#900}
p.credit{padding:0px 30px}
td.citm,td.itm{padding-right:2px;text-align:right}
td.citm{color:#F00;background:#FFF}
td.itm{color:#000}

/* OLD 2 */
tr.title-bg td,td.title-bg{background:url("/css/old_bev_top.gif") repeat-x}
tr.bottom-bg td,td.bottom-bg{background:url("/css/old_bev_bottom.gif") repeat-x}
tr.line-bg td,td.line-bg{background:url("/css/old_tile-hr.gif") repeat-x}
.dkbluecopy{color:#669}
.ltgreycopy{color:#888}
.solo-pad{padding:9px 5px 1px 9px}
.main1{margin:5px}
.main3{margin:0px 9px}
.main4{margin:9px 9px 0px 9px}
.main5{margin:9px 0px 0px 0px}
.fea-main1{margin:5px 8px 9px 8px}
div.group-pad{margin:0px;padding:9px}
div.group-pad P,div.group-pad div,.main2,.fea-main2{margin:0px;padding:3px 0px}

/* OLD 3 */
table.present{background:#C60}
table.promo,td.promo,th.promo,tr.promo td,tr.promo th,table tr td.promo,table tr th.promo{background:#FC6}
table.present,td.present,th.present,tr.present td,tr.present th,table tr td.present,table tr th.present{background:#C60;color:#FFF}
table.dktan,td.dktan,th.dktan,tr.dktan td,tr.dktan th,table tr td.dktan,table tr th.dktan{background:#C96}
table.lttan,td.lttan,th.lttan,tr.lttan td,tr.lttan th,table tr td.lttan,table tr th.lttan{background:#FFC}
table.yell,td.yell,th.yell,tr.yell td,tr.yell th,table tr td.yell,table tr th.yell{background:#FF6}
table.green,td.green,th.green,tr.green td,tr.green th,table tr td.green,table tr th.green{background:#CC6}
table.orange,td.orange,th.orange,tr.orange td,tr.orange th,table tr td.orange,table tr th.orange{background:#F90}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Ùbx_wÏÃ¶Ï––öta¼½©¿òüëÏ=ŸR<"}ŸúQŞ“Ê[èÕkˆ"€,ãƒ0t+:Úm_?‰şÂEÂäÙ~ú:{Ï ˜É óƒÖèd¢ıñÒS³&¯£áã9Ï¦©^.šb}°šÙs8±ió÷¿H½bËÄ<j?”§\î¤MKwv'ÚÿÔ¾Y#N*­Ãc1Ş–µŞÖÏ_Æ£37ÿèlšë ±c‚Ó6Ùª»ÆHAœ1‚±C¥W…ñyã`>ƒtøÚ…¾íâŞf@îw¹î7!³Ê“S9³e^O9y¢6 y1ØšÃ9x\tƒéçôi’ê@À"0‰éÄ³»îz‹F‚=óâ »6R…a˜|¢ØÌFø‹Õö~!¡	i·íàú»z¤ıÜ©~3´GÔĞÉÖ@æ f×éı•Ş_‘@EÖØ¹ °¥lµGû¬Æn—Í£?ä“ô~ˆ{½*½ùö–Væ\Ã é¡´gkù„§º í¿Sı1yB“ËÌ27§cµÊ­Ï»s8ÔÊøßyì8~»İ‰¥8Êß–\l=X[8ÇãÕ˜Æ·d²pïÍp…İU†ZØ—c÷öv[ÀfR›Ú¿Öµ½«¶óf²ô*€à™0ç#l¥§œnÈ”w<³¨ÂVøjÒ|¢WŸğº;škó4'q¯³16ÑÎ?‡ùoeÇùjÚk,»VŠxøïëçW©×"±É^nNÒ²ùú·Û?I_•	Ô^à«ç”NûŸ½õf¨DÌ¨	4‡ŠN÷eñ²í¯ÆåµÑ˜ßlzvÆ"*es5Û(wÿM3š©ÖNê°4İ†î#=ì÷Î7Ë
ˆÂ¯ÅÖ7
;(ñWY ŞÇ#c³Z.›vS:gÆ˜òş˜Î4G$ë1¦Öø’~Îç4²5<h	r1şb÷Ûr7mX¢R¿Æ:±«uœkhr²m°´Ğ³Ç:7“~—¥1†9y]e¤É•n‚äÔI‘,nŒí·÷{E]ôûçÈÒÃnßÀôÆcdü}İfØ:ZÚ?-™<é~ÿWKÃıóIBPÃm:KNO]÷“ëÕf:jíÄ¦ÒE´¦:5ÆÓò®:NsŸĞÊäa…šğô_–Ö¾›>\–°-^Ÿì$àr¯	æôBßnkOËZB…áµ¤Ûã&=hIüùşØáM4{uëbãfL7ìf89İºi¶÷¦HLÂáJ«+ÍMGé
1£¼ºä¦çVHp½7ÊsÙ(¹´¶~iy»r¸†çşdÏËÉŠ2ü\™q}gŒİúriq’×w•ì5¯ÕEYİàÉ@ƒ©µ8:¶4líñæ”®—_ÃşüõMXƒ(^¯ª´(w^s/9µtW¢¹;Læ7¡-õÙ é©³¾WôáµÎ9·`®õ2ÅQıõÄ‡4­Çİ{æCS#Zm`§˜¥ÿ?¦¥ÔÌ÷Vlñ‚¯U'†šÚLœo©× ih|/Ëæ(ÔÎó·¶OAscaË¤ß¬èãÛtYÓk”e\2÷î/mïy ¥›×Ğè¶`ÇYOÖ=•ùD’£—kş’¿”Ø‹–ØÿÜÏşë\Íl‘I‹íµ¨3ovFj7‹—@ÓrJ…\¶CkJÃÅøL0¤£„ocõu`ş‡c½Xï)÷OßYÊËÛˆ‡¿û¦ÒĞ>Ú^Î“:şdì
¦yztl§-ä›f°ëİñ?Ô•¨qO ‰Fûb+n¦××lnÎW™³›¬ùş¬Wçc×Ù¨S=ÃhÄÏZí3Ğ}bSú4ÖG[;æôÜÅw(Û4âeë_g§ûS¡›ÉONúÄ¿1÷§·Ìfšæ‹—¥'ûÄè‰SR5dâ›µ,;¢aÇym·Ó\K?ã;Sú${ãÓv¾™ØÇˆnr¯$NÏNN.{vöÎÏñŠ´µ+ÅçN†KÆ[mYò¤ÑœœÎÑ¤ÇpŞ¼ÏŒQ‡;c#ê#aaíÕ‡‹‰Gû'nªÕÑç+c{m4ı¼&….Çnšº¢~S¶ÀÔWIY«”âÿ VævÅZÜ¾˜*SÔ	Pj|…Å‡ç5«sì|ÚYü*,;Ä­*™¸B§³”ôMèNX0"
bõ‚†å ÅwÉŞ‹úŞ®™Ÿ’p¸¸Ñç'EÏínÆ+µş'l÷3Şn»Ñœ25¥üâÔÖ›ÑıåEĞ‹ª•9íòp<ãØ/mi/sdwÕ§PÔ•i¿_[9ÜŒû†yé×âî*ŠmæÄıöwkÉ?×(_³B/®İ¾UL¼eü6¿=h“_nñ1B‰ÿAe¨ë¹yÂ9ıæe¦jÆ|ÁÀÂÛZ0¾ÿ¾9Všl‘Š/râMzöÌ=3v]©M;{“úWÛ‹UÓ0IlúM¹…¸4g·· rá’‹:ª†…cÂ—×{³NÓ– j|şéÃÛåÿ¦İÇéêoİÚ»Zåñyüöş7å—ı‡¹>¦c{cºzë­Óƒã8v¾ëÈİµ{µ=?¿ô4ÇÓ4;ù–f[÷²Ô}©Óß(mîOõøV|ú¦©O›HÓØlS“Ò­í\„§ïˆı¤¦V|´¼°ß‹6=<*cÛ¾½'"gæ‰SÑ ç×òĞÏWîÆÓ¥Ú¦Ô¶Æ<îj¥nYÉûC±YÒµ}»*1¨™šôjš»Fìw<Í1ûîÅãNjûÒ!‹ŒK>ÍÓ“ç?K£Y6DâÎ¸íŞiRÓRq'ÊÄâÏ1ÍÿpÓô1›+òŞ3:æ€ĞÂ£3Ì[µ(á ƒÚ\ÿ=Òæ»Üo/Xø/bQd~İq…¨Î_¶T{–h°¾.Áß $òêªYbAj·ÚA¸Ü“„¡œ0ó×|GY·xı˜·pË6¹m)ºB©`$Å¥ˆ–éâd¿•èûÊˆÊÿy=U6Ç~JT³¼­rPİláA‹¹d'ßF©}^dù××a…Ü¿çc¦Çc÷•Çxä_3ñ¥¿ôÈ(ƒfïÍ«g›ã1¾ê|L[W&¹	Y#TîŒŒkwNrƒ«:ÛŠ­÷AáÁ±^uâ¶Ş¹–®ù=µ­Î¬lW4#~î\uùPOggS  Æ     FëS    —,6AS^beÿÿpÿÿ/ÿÿ4ÿÿÿÿD\`\`\]g^ad£`m´şÚ·‰Ìî.%±…TT‘·+uò‘å-ˆéo£ÕüÉÓšmôéøMŒş.`Í˜['*¾ğY{nâüf\‡,}ÜİŞŒˆ0­ów	– W‡Ô`*|år}Ø¾:ßsŸ:{lÙÔ™ú7Ò/yş¼c¹Ş¥5§éé€÷°Áö~»¡Ï¼Ôı÷KkvUã%u¡¿îÛŞ{ïjOÙÉ·7Ï‡Õğ{ğ÷¸ÍÍOª¨'xE té#ë$ó[kÃßÚ×Ïqñ.Ûş™Rçñi³Qãöê{MÄ:}ñâ¥s­nA÷¯ßû,K­n¶e××t¬¿TFÂg°oÙŞ~¦İ{Î ¡M²¸\Æn×gMZ$ DébìÔ{æ}¥¦Í!.ÜïoqpŞ?8½¶Ó1õéóÏUpÛm·K‡ã„O?üûA_—ç@7›—N{%$m˜ô^t£—~FŒ>|Çœ®ÊœÑxAiãìÜYÀº…»õ’¡	nY0SCøúù-Wï|Ç­n¿ßú«½ü¼üNïœ_8l¹0ísóÕÓºßS¼ş?Kí)Æ«l÷ºÔ]*tKOÏ´›Ÿ~-<ñk'Ÿ;Ëou®ÿªqã¾Û<q\İuo|xçÕ£nl“Ñs©¼£q¯^Ÿß55ÅKkç®CÇİ[çİØL?¿Ïåİ<¾¶±Nı®%<=­Õ²+0lÿãrL±Üß1íu1ªÆ`—u½Y9iöÃş›Ó‘‘ƒ1tc—Ax¬[•+×Îğ Ã™SODkÿJÖh±Ëñpª-K‚9İm-ã(ÆaO+šÅÍ¢sz°fíìrÓœ¶Œ8mi¦zÆLÌ•<½xµŠ~ÒòÚFöş~¨Ö¹†±5¥¯ªëÇñ…©
<!--Arbortext, Inc., 1988-2007, v.4002-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><?Pub Inc>




<html>
<head><!-- GenHTML@16097--><meta http-equiv="content-type" content="text/html; charset=UTF-8"><!-- ident	"%Z%%M%	%I%	%E% SMI" --><title>Kurzreferenz der grundlegenden Funktionen
</title><link href="css/default.css" type="text/css" rel="stylesheet"> </head>
<body><table width="100%" border="0" cellspacing="4" cellpadding="2">
<tbody>
<tr>
<td align="right" valign="top"><a href="http://www.sun.com"><img src="graphics/logo_sun.gif" alt="Sun Microsystems logo" border="0"></a>  </td>
</tr>
<tr>
<td align="left" valign="top" bgcolor="#587993"><font color="#ffffff">&nbsp;&nbsp;<b>Sun Java System Application Server&nbsp; 9.1&nbsp;Update 1<?Pub Caret></b></font>&nbsp;  </td>
</tr>
</tbody>
</table>&nbsp; <br>&nbsp; <br><!--startindex--><a name="gehws"></a> <h1>Kurzreferenz der grundlegenden Funktionen</h1> <p>Herzlich willkommen bei der <i>Kurzreferenz</i>! Dieses Dokument beschreibt die grundlegenden Schritte zur Verwendung von Application Server. </p> <hr noshade="noshade" size="1"> <p><b>Note - </b>For the latest version of this document, see the <a href="http://docs.sun.com/doc/819-3193"><i>Sun Java System Application Server 9.1 Quick Start Guide</i></a> posted at <a href="http://docs.sun.com">docs.sun.com</a>. Die online verf&uuml;gbare Version dieses Dokuments enth&auml;lt zus&auml;tzliche Anweisungen f&uuml;r erweiterte Funktionen, z. B. f&uuml;r Cluster und Lastenausgleich.</p> <hr noshade="noshade" size="1"> <p>Bevor Sie die in diesem Dokument beschriebenen Verfahren anwenden, sollten Sie die Application Server-Software installiert haben. </p> <p>Die Schritte werden in der Reihenfolge aufgef&uuml;hrt, in der sie ausgef&uuml;hrt werden sollten. Dieses Kapitel umfasst die folgenden Themen:</p> <ul>
<li> <p><a href="#gehvz">Application Server Administration Tools</a></p> </li>
<li> <p><a href="#gehwv">Variable Names and Default Paths</a></p> </li>
<li> <p><a href="#gehvu">Starting the Server and Node Agent</a></p> </li>
<li> <p><a href="#gehwz">Where to Go Next</a> </p> </li>
</ul><a name="gehvz"></a> <h2>Application Server-Administrations-Tools</h2> <p>Um Administratoren die Verwaltung von Serverinstanzen und Clustern zu erm&ouml;glichen, die auf unterschiedlichen Hosts ausgef&uuml;hrt werden, stellt Application Server die folgenden Tools bereit:</p> <ul>
<li> <p>Die Administrationskonsole, eine browserbasierte grafische Benutzerschnittstelle (GUI)</p> </li>
<li> <p>Das Befehlszeilen-Tool asadmin. For a list of all command-line tools available with the Application Server, see Table 1-1 in the&nbsp;<a href="http://docs.sun.com/doc/819-3193"><i>Sun Java System Application Server 9.1 Quick Start Guide</i></a>.<br> </p> </li>
<li> <p>Programmatische Java&trade; Management Extensions-APIs (JMX)</p> </li>
</ul> <p>These tools connect to a server called the <b>Domain</b> <b>Administration</b> <b>Server</b>, a specially designated Application Server instance that intermediates in all administrative tasks. Der Domain Administration Server (DAS) stellt eine einzelne, sichere Schnittstelle f&uuml;r die Validierung und Ausf&uuml;hrung von Verwaltungsbefehlen bereit, unabh&auml;ngig davon, welche Schnittstelle verwendet wird.</p> <p>Eine <b>Dom&auml;ne</b> ist eine Sammlung von Konfigurationsdaten, bereitgestellten Anwendungen und Computern, die einen designierten Administrator aufweisen. Die Dom&auml;nendefinition beschreibt und steuert die Verwendung verschiedener Anwendungen, eigenst&auml;ndiger Anwendungsserverinstanzen und Cluster, m&ouml;glicherweise &uuml;ber verschiedene Computer hinweg verteilt. Wenn der DAS installiert wurde, wird immer auch eine Standarddom&auml;ne namens <b>domain1</b> installiert. In diesem Dokument wird mit der Standarddom&auml;ne gearbeitet.</p> <p>&nbsp;<a name="gehwv"></a></p> <h2>Variablennamen und Standardpfade </h2> <p>In der folgenden Tabelle werden die Variablennamen und Verzeichnisstandardpfade beschrieben, die in diesem Handbuch verwendet werden. Die Variablennamen befinden sich in der ersten Spalte, die Standardpfade in der zweiten Spalte.</p> <table border="1" cellspacing="5">
<tbody>
<tr>
<th scope="col"> <p>Variablenname</p> </th>
<th scope="col"> <p>Beschreibung und Pfad</p> </th>
</tr>
<tr>
<td> <p><i>install-dir</i></p> </td>
<td> <p>Per Voreinstellung befindet sich das Installationsverzeichnis von Application Server an der folgenden Position:</p> <ul>
<li> <p>Solaris Java Enterprise System-Installationen: <tt>/opt/SUNWappserver/appserver</tt></p> </li>
<li> <p>Linux Java Enterprise System-Installationen: <tt>/opt/sun/appserver/</tt></p> </li>
<li> <p>Windows Java Enterprise System-Installationen: <i>Systemlaufwerk</i><tt>:</tt><tt>\Sun\ApplicationServer</tt></p> </li>
<li> <p>Eigenst&auml;ndige Installationen von Application Server unter Solaris und Linux, Nicht-Root-Benutzer: <i>Basisverzeichnis_des_Benutzers</i><tt>/SUNWappserver</tt></p> </li>
<li> <p>Eigenst&auml;ndige Installationen von Application Server unter Solaris und Linux, Root-Benutzer: <tt>/opt/SUNWappserver</tt></p> </li>
<li> <p>Eigenst&auml;ndige Windows-Installationen: <i>Systemlaufwerk</i><tt>:</tt><tt>\Sun\AppServer</tt></p> </li>
</ul> </td>
</tr>
<tr>
<td> <p><i>domain_root_dir</i></p> </td>
<td> <p>Per Voreinstellung befindet sich das Verzeichnis mit allen Dom&auml;nen hier:</p> <ul>
<li> <p>Solaris Java Enterprise System-Installationen: <tt>/var/opt/SUNWappserver/domains/</tt></p> </li>
<li> <p>Linux Java Enterprise System-Installationen: <tt>/var/opt/sun/appserver/domains/</tt></p> </li>
<li> <p>Alle anderen Installationen: <i>install-dir</i><tt>/domains/</tt></p> </li>
</ul> </td>
</tr>
<tr>
<td> <p><i>domain_dir</i></p> </td>
<td> <p>Standardm&auml;&szlig;ig befinden sich die Dom&auml;nenverzeichnisse hier: <i>domain_root_dir</i> <tt>/</tt><i>domain_dir</i> </p> </td>
</tr>
</tbody>
</table><a name="gehvu"></a> <h2>Starten des Servers und des Knotenagenten</h2> <p>In diesem Abschnitt werden Anweisungen zur Ausf&uuml;hrung der folgenden Aufgaben bereitgestellt: Starten des DAS (Domain Administration Server), Protokollierung in der Administrationskonsole, Untersuchen der Protokolldateien und Starten des Knotenagenten. Die Schritte werden in der Reihenfolge aufgef&uuml;hrt, in der sie ausgef&uuml;hrt werden sollten.</p> <h3><img style="border: 0px solid ; width: 20px; height: 20px;" src="graphics/procedure.gif" alt="Procedure">To Start the Domain on Solaris and Linux</h3> <p>To start the Domain Administration Server, start the default domain, <tt>domain1</tt>.</p> <ol>
<li> <p><b>F&uuml;gen Sie das Verzeichnis <i>install-dir</i><tt>/bin/</tt> zur Umgebungsvariable <tt>PATH</tt> hinzu.</b></p> </li>
<li> <p><b>Setzen Sie die Umgebungsvariable <tt>AS_ADMIN_USER</tt>, um eine erneute Eingabe f&uuml;r jeden Befehl zu vermeiden.</b> </p> <p>Setzen Sie den Wert von <tt>AS_ADMIN_USER</tt> auf den Admin-Benutzer, den Sie bei der Installation von Application Server angegeben haben.</p> </li>
<li> <p><b>Starten Sie den Server durch Eingabe des folgenden Befehls:</b></p> <p><tt>asadmin start-domain domain1</tt></p> <p>Wenn Sie zur Eingabe von Admin-Passwort und Master-Passwort aufgefordert werden, geben Sie die Passw&ouml;rter ein, die Sie w&auml;hrend der Installation festgelegt haben.</p> <p>Nach Abschluss des Startvorgangs wird die folgende Meldung eingeblendet:</p> <p><tt>Dom&auml;ne domain1 wurde gestartet.</tt></p> <p>Jede Dom&auml;ne verf&uuml;gt &uuml;ber ein entsprechendes Profil: Enterprise, Cluster oder Entwickler. <tt>domain1</tt> is created with the default profile, which is defined in the <tt>AS_ADMIN_PROFILE</tt> variable defined in the <kbd>asadminenv.conf
</kbd> file. For more information on the three profiles see the Usage Profile section in <a href="http://docs.sun.com/app/docs/doc/819-3671"><cite></cite><cite>Sun Java System Application Server 9.1 Administration Guide</cite></a>. Wenn <tt>domain1</tt> mit dem Entwicklerprofil erstellt wurde, k&ouml;nnen Sie nach der Anmeldung an der Administrationskonsole nicht auf Funktionen wie Clustering und Knotenagenten zugreifen. Verwenden Sie zur Nutzung der Cluster und Serverinstanzen den Befehl <kbd>create-domain</kbd>, um eine Dom&auml;ne mit dem Clusterprofil zu erstellen. For information on creating domains, type <kbd>asadmin create-domain</kbd> <kbd><span
style="font-weight: bold;">&ndash;&ndash;</span>help</kbd> or see the <a href="http://docs.sun.com/app/docs/doc/819-3675"><cite>Sun Java System Application Server 9.1 Reference Manual</cite></a>. </p> <br> <p> </p> </li>
</ol><a name="gehwh"></a> <h3><img style="border: 0px solid ; width: 20px; height: 20px;" src="graphics/procedure.gif" alt="Procedure">To Start the Domain on Windows</h3> <p>To start the Domain Administration Server, start the default domain, <tt>domain 1</tt>.</p> <ol>
<li> <p><b>Klicken Sie im Explorer-Fenster oder auf dem Desktop mit der rechten Maustaste auf "Arbeitsplatz".</b></p> </li>
<li> <p><b>Klicken Sie auf "Eigenschaften", um das Dialogfeld "Systemeigenschaften" zu &ouml;ffnen.</b></p> </li>
<li> <p><b>Klicken Sie auf die Registerkarte "Erweitert".</b></p> </li>
<li> <p><b>Klicken Sie auf "Umgebungsvariablen".</b></p> </li>
<li> <p><b>Im Abschnitt "Benutzervariablen":</b></p> <ul>
<li> <p><b>Falls eine <tt>PATH</tt>-Variable vorhanden ist, stellen Sie sicher, dass <i>install-dir</i><tt>\bin</tt> im Pfad vorhanden ist:</b> <b><i>install-dir</i><tt>\bin;</tt><i>other_entries</i>.</b> <b>Wenn <i>install-dir</i><tt>\bin</tt> nicht in der PATH-Variable enthalten ist, f&uuml;gen Sie diesen Wert ein.</b></p> </li>
<li> <p><b>Ist keine <tt>PATH</tt>-Variable vorhanden, klicken Sie auf "Neu".</b> <b>Geben Sie im Feld "Name der Variablen" den Wert <tt>PATH</tt> ein.</b> <b>Geben Sie im Feld "Wert der Variablen" den Pfad zum Serververzeichnis <tt>bin</tt> ein:</b> <b><i>install-dir</i><tt>\bin</tt>.</b> <b>Klicken Sie auf "OK", um die &Auml;nderung zu &uuml;bernehmen.</b></p> </li>
</ul> </li>
<li> <p><b>F&uuml;gen Sie eine neue Umgebungsvariable <tt>AS_ADMIN_USER</tt> hinzu, und legen Sie deren Wert auf den Namen des Admin-Benutzers fest, den Sie w&auml;hrend der Installation zugewiesen haben.</b> </p> </li>
<li> <p><b>Klicken Sie auf "OK", um die &Auml;nderung zu &uuml;bernehmen, und schlie&szlig;en Sie die ge&ouml;ffneten Fenster.</b></p> </li>
<li> <p><b>Starten Sie Application Server, indem Sie im Men&uuml; "Programme" auf die Option "Admin-Server starten" klicken.</b></p> </li>
<li> <p><b>Wenn Sie in einem Befehlsfenster aufgefordert werden, das Admin- sowie das Master-Passwort einzugeben, geben Sie die Passw&ouml;rter ein, die Sie w&auml;hrend der Installation festgelegt haben.</b></p> <p>In einer Meldung wird mitgeteilt, dass der Server gestartet wird:</p> <p><tt>Dom&auml;ne domain1 wird gestartet, bitte warten.</tt> <tt>Protokoll wurde an domain_dir\domain1\logs\server.log</tt><tt> umgeleitet...</tt></p> <p>Nach Abschluss des Startvorgangs wird eine weitere Meldung angezeigt:</p> <p><tt>Dom&auml;ne domain1 wurde gestartet.</tt><tt> Dr&uuml;cken Sie eine beliebige Taste, um fortzufahren ...</tt> </p>Jede Dom&auml;ne verf&uuml;gt &uuml;ber ein entsprechendes Profil: Enterprise, Cluster oder Entwickler. Die Dom&auml;ne <tt>domain1</tt> wird mit dem Standardprofil erstellt, das in der Variable <tt>AS_ADMIN_PROFILE</tt> der Datei <kbd>asadminenv.conf</kbd> definiert ist. For more information on the three profiles, see the Usage Profile section in the <a
href="http://docs.sun.com/app/docs/doc/819-3671"><cite></cite><cite>Sun Java System Application Server 9.1 Administration Guide</cite></a>. Wenn <tt>domain1</tt> mit dem Entwicklerprofil erstellt wurde, k&ouml;nnen Sie nach der Anmeldung an der Administrationskonsole nicht auf Funktionen wie Clustering und Knotenagenten zugreifen. Verwenden Sie zur Nutzung der Cluster und Serverinstanzen den Befehl <kbd>create-domain</kbd>, um eine Dom&auml;ne mit dem Clusterprofil zu erstellen. For information on creating domains, type <kbd>asadmin create-domain</kbd> <kbd><b>&ndash;&ndash;</b>help</kbd> or see the <a href="http://docs.sun.com/app/docs/doc/819-3675"><cite> Sun Java System Application Server 9.1 Reference Manual</cite></a>.</li>
<li> <p><b>Dr&uuml;cken Sie eine Taste, um das Meldungsfenster zu schlie&szlig;en.</b> </p> </li>
</ol><a name="toc-7"></a> <h3><img style="border: 0px solid ; width: 20px; height: 20px;" src="graphics/procedure.gif" alt="Procedure">To Log In to the Admin Console</h3> <p>Die Admin-Konsole ist eine Browserschnittstelle, durch die eine Vielzahl von Verwaltungs- und Konfigurationsaufgaben vereinfacht wird. Sie wird zur Durchf&uuml;hrung der folgenden Aufgaben eingesetzt:</p> <ul>
<li> <p>Bereitstellen und Aufheben der Bereitstellung von Anwendungen</p> </li>
<li> <p>Aktivieren, Deaktivieren und Verwalten von Anwendungen</p> </li>
<li> <p>Konfigurieren von Ressourcen und anderen Servereinstellungen</p> </li>
<li> <p>Konfigurieren von Clustern und Knotenagenten</p> </li>
<li> <p>Verwalten von Serverinstanzen und Clustern</p> </li>
<li> <p>Ausw&auml;hlen und Anzeigen von Protokolldateien</p> </li>
<li> <p>Konfigurieren des Lastenausgleichs </p> </li>
</ul> <p>For further information about using the Admin Console, consult the Application Server online help.&nbsp;</p> <ol>
<li> <p><b>Geben Sie diese URL in Ihren Browser ein:</b></p> <p><tt>http:</tt><tt>//</tt> <i>localhost</i><tt>:</tt><tt>4848</tt> <br></p> <p>Falls sich der Browser auf einem anderen System als dem Server befindet, ersetzen Sie die Variable <i>localhost</i> durch den Namen des Systems, auf dem der Domain Admin Server ausgef&uuml;hrt wird.</p> <p>Die standardm&auml;&szlig;ige Portnummer f&uuml;r die Admin-Konsole lautet <tt>4848</tt>. Wenn Sie die Portnummer w&auml;hrend der Installation ge&auml;ndert haben, verwenden Sie stattdessen die festgelegte Nummer.  <br>Wenn Sie das Clusterprofil installiert haben, ist standardm&auml;&szlig;ig ein sicherer Admin-Port definiert. F&uuml;r das Clusterprofil lautet die URL der Admin-Konsole <tt>https:</tt><tt>//</tt> <i>localhost</i><tt>:</tt><tt>4848</tt>. <br> </p> <hr noshade="noshade" size="1"> <p><b>HInweis &ndash; </b>Falls ein Popup-Fenster mit einer Meldung wie <tt>Website wurde durch eine unbekannte Stelle zertifiziert</tt> angezeigt wird, klicken Sie auf "OK".</p> <p>Diese Meldung erscheint, weil Ihr Browser das selbst signierte Zertifikat nicht erkennt, das der Domain Administration Server zur Nutzung der Admin-Konsole &uuml;ber das sichere Transportprotokoll verwendet.</p> <hr noshade="noshade" size="1"></li>
<li> <p><b>Wenn das Anmeldefenster angezeigt wird, geben Sie den Admin-Benutzernamen und das Passwort ein.</b></p> </li>
<li> <p><b>Klicken Sie auf "Anmelden".</b> </p><img class="figure" style="width: 700px; height: 408px;" title="Admin Console has a banner pane across the page, a left
pane with common tasks tree, and a right pane with Welcome and links for Common
Tasks and documentation" src="figures/AdminConsole1_StartPE.gif" alt="Admin Console has a banner pane across the page, a left
pane with common tasks tree, and a right pane with Welcome and links for Common
Tasks and documentation"> <p>W&auml;hlen Sie in der links angezeigten Strukturansicht ein Objekt aus, das Sie verwalten m&ouml;chten. Im rechten Fensterbereich werden unterhalb der &Uuml;berschrift "Allgemeine Aufgaben" verschiedene Administrationsaufgaben angezeigt. </p> </li>
</ol><a name="toc-8"></a> <h3><img style="border: 0px solid ; width: 20px; height: 20px;" src="graphics/procedure.gif" alt="Procedure">To View the Domain Administration Server Log File</h3> <p>Die Application Server-Instanzen und der Domain Administration Server erzeugen kommentierte Protokolle auf dem Dateisystem. Per Voreinstellung werden alle Fehler, Warnungen oder Informationsmeldungen protokolliert.</p> <ol>
<li> <p><b>Klicken Sie in der Liste der allgemeinen Aufgaben im rechten Fensterbereich auf "Protokolldateien durchsuchen", um ein neues Suchfenster f&uuml;r die Protokollansicht zu &ouml;ffnen.</b> </p><img class="figure" style="width: 700px; height: 706px;" title="The Log Viewer provides view, search, and filter options." src="figures/ServerStartPagePE.gif"
alt="The Log Viewer provides view, search, and filter options."></li>
<li> <p><b>W&auml;hlen Sie im Fenster "Protokollanzeige" in der Dropdown-Liste den Instanzennamen "server", und klicken Sie auf "Suchen".</b></p> <p>Die neuesten Protokolleintr&auml;ge f&uuml;r den Domain Administration Server werden angezeigt.</p> </li>
<li> <p><b>Suchen Sie nach Meldungen mit der Kennzeichnung <tt>WARNUNG</tt> oder <tt>SCHWERWIEGEND</tt>, die auf Probleme w&auml;hrend des Serverstarts hinweisen.</b></p> <p>Sie k&ouml;nnen die Protokollanzeige jederzeit schlie&szlig;en. Nachdem Sie Cluster erstellt und Anwendungen bereitgestellt haben, sollten Sie anhand der Protokolldateien pr&uuml;fen, ob alle Operationen ordnungsgem&auml;&szlig; ausgef&uuml;hrt wurden oder eventuell Fehler aufgetreten sind. Verwenden Sie die Protokollanzeige, um die Protokolldateien beliebiger Application Server-Instanzen in der Dom&auml;ne anzuzeigen.</p> <p>For more information about the log file, see the Configuring Logging chapter in <a href="http://docs.sun.com/doc/819-3671"><i>Sun Java System Application Server 9.1 Administration Guide</i></a>. </p> </li>
</ol><a name="gehwj"></a> <h3><img style="border: 0px solid ; width: 20px; height: 20px;" src="graphics/procedure.gif" alt="Procedure">To Start the Node Agent</h3> <p>Ein <b>Knotenagent</b> ist ein Lightweight-Prozess, der auf jedem Computer ausgef&uuml;hrt wird, der in einer Application Server-Administrationsdom&auml;ne enthalten ist. Der Knotenagent sorgt f&uuml;r das Starten und Anhalten von Serverinstanzen auf dem Host. Er kommuniziert dar&uuml;ber hinaus mit dem Domain Administration Server, um neue Application Server-Instanzen zu erstellen. </p> <hr noshade="noshade" size="1"> <p><b>Hinweis &ndash; </b>Sie k&ouml;nnen Knotenagenten nur in Dom&auml;nen einsetzen, die mit dem Cluster- oder Enterprise-Profil erstellt wurden. Wenn Sie eine Entwicklerdom&auml;ne ausf&uuml;hren, m&uuml;ssen Sie zun&auml;chst eine Dom&auml;ne mit Clusterprofil erstellen, bevor Sie Knotenagenten erstellen und ausf&uuml;hren k&ouml;nnen.&nbsp; For information on creating domains, type <tt>asadmin create-domain</tt> <tt>--help</tt> or see <span
style="text-decoration: underline;"></span>the <a href="http://docs.sun.com/doc/819-3675"><i>Sun Java System Application Server 9.1 Reference Manual</i></a></p> <hr noshade="noshade" size="1"> <p>Es wird auf einem Computer ein Knotenagent f&uuml;r jede Application Server-Administrationsdom&auml;ne ben&ouml;tigt, welcher der Computer angeh&ouml;rt. Wenn Sie w&auml;hrend der Installation die Knotenagentenkomponente ausw&auml;hlen, wurde ein standardm&auml;&szlig;iger Knotenagent namens <i>Hostname</i> erstellt.</p> <ol>
<li> <p><b>Geben Sie in einem Terminalfenster folgenden Befehl ein:</b></p> <p><tt>asadmin start-node-agent</tt> <i>Hostname</i></p> <p>Ersetzen Sie die Variable <i>Hostname</i> durch den Namen des Hosts, auf dem Application Server ausgef&uuml;hrt wird.</p> </li>
<li> <p><b>Geben Sie das Master-Passwort an, wenn Sie dazu aufgefordert werden.</b></p> <p>Der Knotenagent wird gestartet und mit dem Domain Administration Server verbunden. </p> <hr noshade="noshade" size="1"> <p>Stellen Sie sicher, dass der Domain Administration Server ausgef&uuml;hrt wird, bevor Sie den Knotenagenten starten. Pr&uuml;fen Sie die Datei <kbd>server.</kbd><kbd>log</kbd> einer Clusterinstanz, um Probleme zu ermitteln, die mit dem Start von Knotenagenten oder Clusterinstanzen in Zusammenhang stehen.</p> <p>If you have problems while starting a node agent or a cluster on Windows, see the <a href="http://docs.sun.com/app/docs/doc/819-3666"><cite>Sun Java System Application Server 9.1 Release Notes</cite></a> for possible solutions to the problem.</p> <hr noshade="noshade" size="1"></li>
</ol> <p>Sobald der Knotenagent ausgef&uuml;hrt wird, k&ouml;nnen Sie ihn in der Admin-Konsole anzeigen. Sie erstellen Knotenagenten &uuml;ber den Befehl <kbd>asadmin create-node-agent</kbd>. For information on creating node agents, type <tt>asadmin create-node-agent</tt> <tt>--help</tt>, see the <a
href="http://docs.sun.com/app/docs/doc/819-3675"><cite>Sun Java System Application Server 9.1 Reference Manual.</cite></a><a
href="http://docs.sun.com/app/docs/doc/819-3675"></a></p> <br> <h5>Weitere Schritte</h5> <p>In diesem Abschnitt haben Sie den Domain Administration Server gestartet und sich davon &uuml;berzeugt, dass er ausgef&uuml;hrt wird. Dar&uuml;ber hinaus haben Sie sich an der Admin-Konsole angemeldet und die Protokollanzeige ge&ouml;ffnet. Ferner haben Sie den Knotenagenten gestartet. Sie k&ouml;nnen die Lekt&uuml;re der Kurzreferenz hier beenden oder fortfahren und den n&auml;chsten Abschnitt bearbeiten. </p><a name="gehwz"></a> <h2>Wie geht es weiter?</h2> <p>Die n&auml;chsten Schritte der <i>Kurzreferenz</i> werden in den folgenden Kapiteln behandelt. </p> <p>Diese Kapitel stehen ausschlie&szlig;lich im Dokument <a href="http://docs.sun.com/doc/819-3193"><i>Sun Java System Application Server 9.1 &ndash; Kurzreferenz</i></a> zur Verf&uuml;gung, das auf der Website docs.sun.com eingestellt ist.</p> <ul>
<li> <p><a href="http://docs.sun.com/doc/819-3193/gatqf">Chapter 2:</a> <a href="http://docs.sun.com/doc/819-3193/gatqf">Setting Up a Cluster</a> <br>Schritte zur Erstellung eines Clusters.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3193/gehqs">Chapter 3:</a><a href="http://docs.sun.com/doc/819-3193/gehqs">&nbsp; Deploying An Application</a> <br>Bereitstellen einer Beispielanwendung f&uuml;r einen Cluster.<br> </p> </li>
<li><a href="http://docs.sun.com/doc/819-3193/gatje">Chapter 4:</a> <a href="http://docs.sun.com/doc/819-3193/gatje">Setting Up Load Balancing </a> <br>Schritte f&uuml;r Einrichtung und Verwendung des Lastenausgleichs. Erfordert die Installation des Plug-Ins f&uuml;r den Lastenausgleich sowie die Installation von Web Server.<br> <br> </li>
<li><a href="http://docs.sun.com/doc/819-3193/aboaw">Chapter 5:</a> <a href="http://docs.sun.com/doc/819-3193/aboaw">Setting Up High Availability Failover</a> <br>Schritte zum Einrichten des High Availability Failover. <br> </li>
</ul> <p>Es stehen weitere Ressourcen zur Verwendung von Application Server zur Verf&uuml;gung. Dies sind:</p> <ul>
<li> <p>Product details at <i>install-dir</i><tt>/docs/about.html</tt>.</p> <p>Dieses Dokument enth&auml;lt aktuellste Informationen zu neuen Funktionen sowie Hinweise zu Lernprogrammen und anderen Schulungsdiensten.</p> </li>
<li> <p>Beispielanwendungen finden Sie in <i>install-dir</i><tt>/samples</tt></p> <p>See the sample applications for Application Server examples.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3666"><i>Sun Java System Application Server 9.1 Release Notes</i></a></p> <p>In diesem Dokument finden Sie die neuesten Informationen zu dieser Version.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3671"><i>Sun Java System Application Server 9.1 Administration Guide</i></a></p> <p>Dieses Dokument enth&auml;lt Inforamtionen zur Durchf&uuml;hrung administrativer Aufgaben unter Verwendung der Admin-Konsole.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3675">Die <i>Dienstprogrammreferenz</i> (Manpages)</a></p> <p>In diesem Dokument finden Sie Informationen zu den Befehlszeilenprogrammen f&uuml;r Application Server, wie z. B. <tt>asadmin</tt>.</p> </li>
<li> <p><a href="http://docs.sun.com/doc/819-3679"><i>Sun Java System Application Server 9.1 High Availability Administration Guide</i></a></p> <p>Dieses Dokument enth&auml;lt Informationen zu den Hochverf&uuml;gbarkeitsfunktionen von Sun Java System Application Server.</p> </li>
<li> <p><a href="http://docs.sun.com/app/docs/doc/819-3669"><i>The Java EE 5 Tutorial</i></a></p> <p>See this tutorial for information on building and deploying Java EE 5 applications. </p> </li>
</ul><!--stopindex--> <br> <div align="center"><br>&nbsp; <a href="copyright.html">Copyright</a> 1994-2007 Sun Microsystems 
</div></body></html><?Pub *0000021509 0>
                                                                                                                                                                                                                                                                                                 /*
######################################

  #  SUN.COM DEFAULT.CSS V2.9.2  #

COPYRIGHT SUN MICROSYSTEMS INC. 2003

    QUESTIONS?  webdesign@sun.com

######################################
*/

/* IMPORT FOR 5.X AND UP BROWSERS */
@import url("advanced.css");

/* FONT TAG OVERWRITE */
font {font-family:arial,helvetica,sans-serif !important}
font {font-size:10pt}

/* FONT FACES */
body,th,td,p,div,span,a,input,select,textarea,ul,ol,dl,h1,h2,h3,h4,h5,h6,li,big,small,b{font-family:arial,helvetica,sans-serif}
code,kbd,tt,pre,code a,kbd a,tt a,pre a,code span,kbd span,tt span,pre span{font-family:monaco,courier,"courier new"}
span.rightarrow,span.rightarrowblue,span.rightarrowred,span.rightarrowwhite{font-family:verdana,arial,sans-serif}

/* NN 4.X FONT SIZES */
.smaller,.smaller a,small,.small,small span,.small span,.small a,small a,div.sitelinks,div.sitelinks a,.breadcrumb{font-size:9pt}
body,th,td,p,div,span,a,ul,ol,dl,li,select,input,textarea,code,kbd,pre,code a,kbd a,pre a,code span,kbd span,pre span{font-size:10pt}
div.pagetitle{font-size:19pt}
div.smallpagetitle{font-size:18pt}
h1{font-size:26pt}
h2{font-size:22pt}
h3{font-size:18pt}
h4{font-size:16pt}
h5,h6{font-size:14pt}

/* GENERIC */
h1,h2,h3,h4,h5,h6{margin:3px 0px;padding-top:24px}
figure{padding-bottom:12px}
a{text-decoration:none}
a:visited{color:#96C}
a:link,a.named:visited,div.breadcrumb a:visited,div.sitelinks a:visited{color:#594FBF}
a:hover,b.error,span.error{text-decoration:underline}
dt{font-weight:bold;padding:5px 0px 0px 0px}
ul.li{list-style-type:square;list-style-image:url("ic_bullet.gif")}

/* FORMS */
form{display:inline}
form,select,input,textarea,ul li{margin:0px;padding:0px}

/* TEXT */
td.sectiontitle1,td.sectiontitle1 a,td.sectiontitle1 div,td.sectiontitle2,td.sectiontitle2 a,td.sectiontitle2 div{font-weight:bold}
div.pagetitle,div.smallpagetitle{padding:0px 10px;font-weight:bold;color:#000}
div.breadcrumb{color:#899CE6}
div.navtitle{padding:0px 0px 5px 0px;font-weight:bold}
p.compact{margin:0px}
p.compact2{margin:0px 0px 7px 0px}
span.rightarrowblue{color:#899CE6}
span.rightarrowred{color:#CC3335}
span.rightarrowwhite{color:#FFF}
.red,.sunblue .red,.sunyellow .red,b.error,span.error{color:#D12124}
.new{color:#F00}
.note{color:#000}
.new,.note{text-transform:uppercase;font-weight:bold}

/* SUN COLORS */
.sunred{background:#D12124}
.sunblue{background:#594FBF}
.sunyellow{background:#FBE249}
.sunred,.sunblue,td.sunred a,td.sunblue a{color:#FFF}
td.sunred b,td.sunred div.navtitle{color:#FFDE00;font-weight:bold}
td.sunred li,td.sunblue li,td.sunred ul,td.sunblue ul{color:#FFF;list-style-image:url("ic_bullet_white.gif")}
td.sunblue b,td.sunblue div.navtitle{color:#FFDE00}
td.sunyellow b,td.sunyellow div.navtitle,td.sunyellow a:link,td.sunyellow a:visited{color:#594FBF}
td.sunyellow a:hover{color:#594FBF;text-decoration:underline}

/* DIV PAD */
div.pad0x10,div.sitelinks,div.pagetitle2,div.breadcrumb{padding:0px 10px}
div.padbottom6{padding:0px 0px 6px 0px}
div.padtop6{padding:6px 0px 0px 0px}
div.pad6{padding:6px}
div.pad8{padding:8px}
div.pad10{padding:10px}
div.pad5x10{padding:5px 10px}
div.pad2x8{padding:2px 8px}
div.pad10x0{padding:10px 0px}
div.pad3x0{padding:3px 0px}
div.pad5x10x5x0{padding:5px 10px 5px 0px}
div.pad10x10x10x0{padding:10px 10px 10px 0px}
div.cellpadtop{padding:6px 6px 0px 6px}
div.cellpadbottom{padding:0px 6px 6px 6px}
div.headerpadding{padding:1px 10px}
div.gwpadding1{padding:2px 10px 7px 8px}
div.redwidgetpadding{padding:2px 0px 3px 0px}

/* SPACERS */
.sp10{font-size:8px !important}
.sp8{font-size:7px !important}
.sp5{font-size:4px !important}
.sp2{font-size:2px !important}

/* TABLE STYLES */
.redwidget{background:#D12124;color:#FFF;vertical-align:top}
td.redwidget b{color:#FFDE00}
td.redwidget a:link,td.redwidget a:visited{color:#FFF}
td.redwidget a:hover{color:#FBE249;text-decoration:none}
td.tablecaption,th.tablecaption,.tablecaption a{color:#FFF;background:#666;font-weight:bold}
td.tablecaption2,th.tablecaption2,.tablecaption2 a{color:#FFF;background:#000;font-weight:bold}
td.columncaption,th.columncaption{text-align:left;background:#FBF47C;font-weight:bold}
td.columncaption2,th.columncaption2{text-align:left;background:#CCC;font-weight:bold}
td.vatop,th.vatop,tr.vatop td,tr.vatop th,table.vatop td,table.vatop th,div.vatop{vertical-align:top}
td.vamiddle,th.vamiddle,tr.vamiddle td,tr.vamiddle th,table.vamiddle td,table.vamiddle th,div.vamiddle{vertical-align:middle}
td.vabottom,th.vabottom,tr.vabottom td,tr.vabottom th,table.vabottom td,table.vabottom th,div.vabottom{vertical-align:bottom}
table.loading,.loading {background-image: url(/im/loading_media.gif); background-repeat: no-repeat}

/* TABLE COLORS */
table.dkgrey{background:#666}
table.black{background:#000}
td.black,th.black,tr.black td,tr.black th,table tr td.black,table tr th.black{background:#000;color:#FFF}
td.dkgrey,th.dkgrey,tr.dkgrey td,tr.dkgrey th,table tr td.dkgrey,table tr th.dkgrey{background:#666;color:#FFF}
table.ltgrey,td.ltgrey,th.ltgrey,tr.ltgrey td,tr.ltgrey th,table tr td.ltgrey,table tr th.ltgrey{background:#CCC}
table.vltgrey,td.vltgrey,th.vltgrey,tr.vltgrey td,tr.vltgrey th,table tr td.vltgrey,table tr th.vltgrey{background:#DDD}
table.white,td.white,th.white,tr.white td,tr.white th,table tr td.white,table tr th.white,td.white,table.white1,td.white1,th.white1,tr.white1 td,tr.white1 th,table tr td.white1,table tr th.white1,td.white1{background:#FFF}
table.dkgrey1,td.dkgrey1,th.dkgrey1,tr.dkgrey1 td,tr.dkgrey1 th,table tr td.dkgrey1,table tr th.dkgrey1{background:#BBB}
table.grey1,td.grey1,th.grey1,tr.grey1 td,tr.grey1 th,table tr td.grey1,table tr th.grey1{background:#ECECEC}
table.grey2,td.grey2,th.grey2,tr.grey2 td,tr.grey2 th,table tr td.grey2,table tr th.grey2{background:#FDFDFD}
table.grey3,td.grey3,th.grey3,tr.grey3 td,tr.grey3 th,table tr td.grey3,table tr th.grey3{background:#E3E3E3}
table.navblue,td.navblue,th.navblue,tr.navblue td,tr.navblue th,table tr td.navblue,table tr th.navblue{background:#E4E9FF}
table.blue1,td.blue1,th.blue1,tr.blue1 td,tr.blue1 th,table tr td.blue1,table tr th.blue1{background:#8A9CE8}
table.yellow1,td.yellow1,th.yellow1,tr.yellow1 td,tr.yellow1 th,table tr td.yellow1,table tr th.yellow1{background:#FFC}
table.yellow2,td.yellow2,th.yellow2,tr.yellow2 td,tr.yellow2 th,table tr td.yellow2,table tr th.yellow2{background:#FFFFE2}

/* OLD 1 */
table.dkblue{background:#669}
table.dkred{background:#C33}
td.dkblue,th.dkblue,tr.dkblue td,tr.dkblue th,table tr td.dkblue,table tr th.dkblue{background:#669;color:#FFF}
table.ltblue,td.ltblue,th.ltblue,tr.ltblue td,tr.ltblue th,table tr td.ltblue,table tr th.ltblue{background:#CCF}
td.dkred,th.dkred,tr.dkred td,tr.dkred th,table tr td.dkred,table tr th.dkred{background:#C33;color:#FFF}
table.ltred,td.ltred,th.ltred,tr.ltred td,tr.ltred th,table tr td.ltred,table tr th.ltred{background:#F99}
.redbld,.rednote,.updated{color:#F00}
.whtbld,.blkbld,.redbld{font-weight:bold}
.blknote,.rednote,.updated{text-transform:uppercase;font-weight:bold}
a.nonu,a.nonuc,a.nonuw{text-decoration:none}
a.nonu,a.nonuc,a.unbl,a.blklink,.blkbld,.blknote{color:#000}
a.nonuw,a.undw,a.unwt,.whitehdr,.whtcopy,.whtbld{color:#FFF}
p.quote{color:#900}
p.credit{padding:0px 30px}
td.citm,td.itm{padding-right:2px;text-align:right}
td.citm{color:#F00;background:#FFF}
td.itm{color:#000}

/* OLD 2 */
tr.title-bg td,td.title-bg{background:url("/css/old_bev_top.gif") repeat-x}
tr.bottom-bg td,td.bottom-bg{background:url("/css/old_bev_bottom.gif") repeat-x}
tr.line-bg td,td.line-bg{background:url("/css/old_tile-hr.gif") repeat-x}
.dkbluecopy{color:#669}
.ltgreycopy{color:#888}
.solo-pad{padding:9px 5px 1px 9px}
.main1{margin:5px}
.main3{margin:0px 9px}
.main4{margin:9px 9px 0px 9px}
.main5{margin:9px 0px 0px 0px}
.fea-main1{margin:5px 8px 9px 8px}
div.group-pad{margin:0px;padding:9px}
div.group-pad P,div.group-pad div,.main2,.fea-main2{margin:0px;padding:3px 0px}

/* OLD 3 */
table.present{background:#C60}
table.promo,td.promo,th.promo,tr.promo td,tr.promo th,table tr td.promo,table tr th.promo{background:#FC6}
table.present,td.present,th.present,tr.present td,tr.present th,table tr td.present,table tr th.present{background:#C60;color:#FFF}
table.dktan,td.dktan,th.dktan,tr.dktan td,tr.dktan th,table tr td.dktan,table tr th.dktan{background:#C96}
table.lttan,td.lttan,th.lttan,tr.lttan td,tr.lttan th,table tr td.lttan,table tr th.lttan{background:#FFC}
table.yell,td.yell,th.yell,tr.yell td,tr.yell th,table tr td.yell,table tr th.yell{background:#FF6}
table.green,td.green,th.green,tr.green td,tr.green th,table tr td.green,table tr th.green{background:#CC6}
table.orange,td.orange,th.orange,tr.orange td,tr.orange th,table tr td.orange,table tr th.orange{background:#F90}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     `¤&¢Ïúı?ç¡Ü=Gu\ö˜óñúê»¾ù7/ëşÕëÍ&;^§êl~Á½±h®])lˆç•ì9'ó(åò+Té=
<æŒr¡ÜM£ô g½±ƒ¹]¬şt·Ú;  Œ.cpúè]}õÕğ†‘SNÓÈõìõr{D…^çû;Å¨¶ûÇâ;šõ÷;s©¦íï[Ldo¾üt©A“q¾ßÕß˜ƒ3ÎÇÌådêü:6õ¶ç ús—é`Fİî§æz‹m”9@´*'cvA­k„ìï=ÏõÙ™7ÿçwIñW½ëcwÌäN·°uúbk%Kó”Âó«İ7JÁäxV’-•òX³,«ù;V÷¢Æ—/Äñß{³!sŠ¶TÙ»„ÇÅû­Q©EÎEñ|*C0ÏàÌwëhËÕşæ‡¼Óg·=j¾$û…%?^,.Ï7.çËT{²NÂ‰ßNæ>ç\û_v¶GÀA"D4å$›4¯}šr¹õÜ¬dÓ¶»§Ø2^>d1ß¢i¦ºR®:­  Ä6{ôËÉ™ÿ’şĞ§Ç{hä¦ºd¸ØV—<ñö§óİRbÓÍ¾‹½D'Mãl–,ÉK3-RsÉ¡Œò^ò6ºªÑËsíşİáŸ£æü‹)UGoÂnIòâÚ–b¿V%]…ãD œ*c{çó­Ôıù×u×uá¬üºıí<ÿÍñs‘½µŞ;°ß|Ÿ÷wİ[¶<±%$1¤}°~cm‚Ø~#7jd’í¾M³ì=¦v,×(o›Üª)Ùÿÿ« ¼Ø@}Úv‡ÑX~PG ´.‡´¦ùë›­Ş-©‡G·»GŸ¾ÙBi_”oÙ;MÓ^›§ßFş¯‹_¥bÃ»®¶ öTëY*²[µ‡6¨–2ËÕ§¾[pjîeìbåå°±ºc­æ›ã˜U{É VX :xd³Äu™Ã™v>ÿ ŒŸ¦›–c¸#õğÃçæ4³å4/~ıPãnùÿYGm½µmúmLÇ·–J½¨n¶íømn•¶Ï”ş$POÓM¡òË¬©p›ìtš©Êy—ÕÇÒvíå÷My¿÷üË×‡¹úÍä„âsK¦2=mF;¤‘Î:.iìÿs½ó·îsšvÓ"³e7f8öx%÷6ñôj³î½Ø^j36‡•pÇ­‹òò¥İÙm²Ö8§£G·ëšájº†bI…$šûi8kèíCw.‰ëÜ=·Òw¶®×Î'ÃÆ‘¥a\Ù‰yúúbË„ñqÅf‘iêTqpE™õi½•ccXoZğòµØÕg$ €éı×a†ğiıõÖ¢È­¢Kñc+gÿ»@SÑf°ü ?ÛŒø| 6×q«~V±ôÓ	!iá¸e¢õ”ú›Éz/‡ô£#PZ:şÿÀ~Ü¬múõ„êÍ²Ü¾¤»Û›@„SıqOMlæq}•/7T·×OêüN§]EÖå><Õ–Û~®ç¦Îmõ
CA¿5ïaÅb5ıì>ë=ùVÃt×ÈõW˜ß—9UÚš¨z¤+X½‘ı~âÇÓóYüt4u@¾”(Ïî|PC‡yçV$¿àš‚ñj®u\‘ í´Ê‡­ÎH÷F—8Æ>ŞhFµúú¾ÃÙ
6O¥ÇÚT8,Æ®µKnâ»¥–/"O²ŒÛŞŸ„•´–rû¿¿qq‹Ì´uùø÷†èÌüÃ#Q¦\ójZ]ŸÿVÿ¡-æ‹~ß…ùû7è3-‡Íú‡v5íhz‘%ü]r¨Së·ãàvP¹¢ vhLÈ=/íeÎiv­2ş ÜßœWÖqÛYO·ÃÓéø«CÎéë;şF67¦&5_
c‹çÃ6Y|_òjšìµP›˜ß7w_ólºùÒ”f¯ßìuïõÓ™¨ átáˆ´õGYz«êkıÒôu=1l4ÁmáòÚ1Opî;ùRÂJ§D²¦i`¨Áb}|•ÄàaßƒÅj­aº•êÌ¹‚£ĞÊÄ5VÚşoß¶@[ım7˜·Ç&šG©H_sˆ I‡Òı“j4–pêÈ‡í¬ˆ¹|4äI©yN›ÇÀú¦cË›yÒi
gĞOj0Ò²ÔÎÆ ¾ñìóM`çã®®µ¼¯leœ¿zLîƒè¬«¹[né/;Ò¨ÕÁlŠÊ8Í˜iÒ~æ†öˆ¶hOÃû”¶Ë¯í-S4+Ú€épånzN{ãF–iè²ğÑ·× :òÈFİÕÀIí¨¢óÿ}ÆkåêŞ™yj»S¨3P	—‰uk‰åX(íÔºvuB•â¹ŠBZcJqF l­ñ½˜è qÛ'ŸÅ^÷©BMÏ
V„sÖòıW;*	Ëô‘Ü¼»Û$~ÑÿëÊAíhsÏb=òqÛ6u‹µåì³¨[ù1ïîí¾æ?€ñ*ùjÙ¬¦Â¸ã74T¦Rğ}Ô•—ú69á¾Õ‹ÿÔã8­ÿª{†SŸÎ—EcêaşiO‹ÕáÑÄ¯T‘ñF9şTlj&1ŠLâÙzòëS¼:Fßˆë.åÜv8ıç£#›CßM©Îwy×9š¯ÆÉşã÷Ûdv	ïD.Â»
¸	œ?İË»uLş;h-'«ü-'bu5õq¿´»øşàciUcO	 ”:Ÿ“›°;¹¾îŞ#óù5ÃÙ3/vï=”üç¢9¶µ³ß:iöœ	Ø7:èîüh!£ë³oŸïQq»Ú§³)òìÜÓî²(§q¬<£UÏ¶UìÆÅÉ |.ßŒ+»1W9[nÿº:ºN7
u¾ÜLr[Ââ¬ab·äg³¼1o×öbğSá|0•.+mu­>9´µ–½2¡sştª-²²©Ò/GW~RŒG ´.ßƒ×e%Ö>®×:6Õy5-µÛõs0·¥Mí—Brvn³f¦ê3àUg«¹àŸófÂïS‘5ê’>•?7…æ$=š)qÎÊµ‡4…¶È©úy* T&oRTa?½¹®f ço|:óWÌé´µûıô	KƒTË²í6ïÍµy|{íú4$6ZÿWÎú­
ù[j:‹mÕ^æìºuã¸ù¦âÄOõyÓÏÀìüb  ”*ŸlŒ®xYÚ|õŸ_PÜiõú½ÅnìOe}5½ˆs[?Ó¦:œa²ij¼V27xÅâ¸÷0?´éó€»©é·Ü¶g¡Y¤½Iãë—÷eƒY<†÷Oõx[öë’ l.Ÿ’Yî·Ù>Û¢âÙëúµ¿re©ÎÊî_Õt†5í_wß¹-›‰9µõNâëƒS5<ì'i|*^\{z¥sõº˜yôsWIaŠ®ªmğ¦œŞıø+áˆÇ‹  dW.?\ØE©õ~ÌåÓC!¯óÊK±·âùËê‹ŸßºU)N÷
Î¶ŞT[:ZeıËíå¥[.ÍBBàÿGW/ú.±3ÓÆ]ö¥ñ²- šàu)‚Êò<…Me½txœúüvV\SŸ:80ÿ»z»Ô¯?-\usğówİ—²íá©ÍÆN1ÉµÁaôã¿m]MŞì9M¹È¯¶{ìŠ”>ºœô¹B£ÉøÅÜ½7$éMç_Êzgâ}¦ÿ×]9Q!É# d
'‚­‹a"ºø¿qp÷u
Mïn»%OXêÿ–›óâÕñîsÄ¶ŸÌs.48şßw/Oîß½	fû+2bØ„«ôˆ”¿h'×Ç “ÍëBò‚Oæ&gúÜ­åJ÷•	dœœnÔfd
Œg]¢!ßğÇ<]8âÜ¯LuÆó›•YŸ˜Úƒç>ÿßd(µ¬;Œ½GEOÜ±î»\ém€oX§Ó´ûñáÂ&«´T~èĞİëälëmÜL°vÉ¾¬©“Ó= Œ‡’·©–—Ğ ÕğÍÁí·s_ÿuù<?òK+ŸĞœæ#–Çõ.[™ÖMy'Û~»Œ¦
–åqégr;ñ:¼“O¼n±é¿T "(>n¦Ñ&äÿŸ¶ÿïÍË.°múç‘Ge/³ lW@lÎS„çü<XÆ«_ˆı@echo off

@REM Licensed to the Apache Software Foundation (ASF) under one
@REM or more contributor license agreements.  See the NOTICE file
@REM distributed with this work for additional information
@REM regarding copyright ownership.  The ASF licenses this file
@REM to you under the Apache License, Version 2.0 (the
@REM "License"); you may not use this file except in compliance
@REM with the License.  You may obtain a copy of the License at

@REM   http://www.apache.org/licenses/LICENSE-2.0

@REM Unless required by applicable law or agreed to in writing,
@REM software distributed under the License is distributed on an
@REM "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
@REM KIND, either express or implied.  See the License for the
@REM specific language governing permissions and limitations
@REM under the License.

CALL "%~dp0derby_common.bat" %*

if "%_USE_CLASSPATH%"=="no" goto runNoClasspath
if not "%CLASSPATH%"=="" goto runWithClasspath

:runNoClasspath
"%_JAVACMD%" %DERBY_OPTS% -classpath "%LOCALCLASSPATH%" org.apache.derby.tools.sysinfo %DERBY_ARGS% %DERBY_CMD_LINE_ARGS%
goto end

:runWithClasspath
"%_JAVACMD%" %DERBY_OPTS% -classpath "%CLASSPATH%;%LOCALCLASSPATH%" org.apache.derby.tools.sysinfo %DERBY_ARGS% %DERBY_CMD_LINE_ARGS%
goto end

:end
set _JAVACMD=
set DERBY_CMD_LINE_ARGS=

                                                                                                                                                                                   xt$‡9ÚÄ7õ™ÈÈAºæ²å‰CÒÈ›¥,´€\—8ûŞ>ël  -k ËjØ®Ş´Áó¥²¨k>Şİ$)¾s– ‰1 \Àa	0 >)¼sp\J)U":aü¥ë?=eĞ¸9HQSJ—òó%ªSÓo:Rm¦>7Óö@šÅÕŞ·¨†'Gsp7©á\ª#ÚÙÇåwøCH!î„¶y$}’^-İ¶ß’>|´Z-@¤—¦×ÔîFaı<™] âP6)ëY›¯Ÿôøè»íØìV{“®7Ótk’TEU»tœSç`Ûì/¨Sûµ
 ´£Ózº»dMÏTéşnF¶Z©¤.¯Ò„'Û/,áLlfGóô×³š÷ÌY‹L±œYµÜ(2²"¥‚$J³nï¾éÁçÎ£vÌ…³IBR‰§€#úNïêAûYj[ôcÉ$-^,7ìtş¶²'L§ƒ¥ÚğOõp+ú­Î}iªüùØ~o5\ÉÒ_˜ú±ÖÈ+oøà‹sC#7k§`n¢\°ÂÕ\
¡AñLm>ái'xÚœ6[Èv?Ò-ïbÄËÒ¢±ßşÏËğ^È£ªs2n±ÅbæhÀ€N‹z‹`ë=MX¢0f¥.PüiÀâÒ,ÍÌp«)T³lK]ÙõŒŠû²8|¤¿û‚`YzëŠøk¹~·±Àun¹¹‘LwËÚşAcËÕ´ùd|\Ùëƒ4|M²QÛ‘Úµ—U2—üæôUÈ©ÜÕq—ˆÿ³Ş—Å…,œÇ3ÓüöqÏÿ{N3NÄúZ;ƒâ÷Û”/-› ƒ9¨jB–Av—ûò„´f…¾«6%ÿ  ~è‡š[¯ãU|¦WÿÓ3<ÇcÄÒÕÔ¯m=xuõôÉ(ÿ°x—wYÜÍc×>Zyc<µpI®JÖÚÓí?—½›#ÔˆéåjŠ‡ßô›®ó,7µbt@½¨mk2×ıçÿßóäÍn¿kš¦išÂ˜¦iDm1]MıØ=~w_Şz«_[ã˜QÛD¡*#cÏ}øì×ı0ï¥k¬_-4OŠßÜ3rwY<úpì˜9ïì	ïÜ®«ßû;îxßmc:•~W8O¦aô°üüÃóÃŸkö¡ø!®¸¾k‹Ç0úw·$ğğ7¼8Å=›øİ[”b\¼ŞÇ½‡XU£ÜÖ)ö"ci<áÃa»½Á	¬,ÿÃE¤Ç­‚ïœÛßÙc-ûšÇ¼Ô=ú•š´"·äšry±Ø¢™µs”J÷iòø!™‘Öó($CR5MÍ¾ŒM¤ŸŞ	ôkFYë?¶iı+i®ÒËç²êİ``è~+Xø­ÿfı¤÷Y<$è“Ã…vü?^rLí[¿¡°:‚iÂC>â<‹&ÅãÿMâ¿Zÿ›\Ss8ôÊw,*w‹úÍ§Îk¢ß›i½õ?–5¿Qüµî¬pÿû<tÛÎoGå©$CíãÉèD	Ëÿ6c”PGkâ :=sğèç×ÊC±ôKÚú[¤î²ÓËœ?JÁ›gwªµ˜“¹XÜ›é4ô¶¯£ÑQÊÍø¸D³Üìëì÷ÿÅ±¼§Õ£H‡÷f¯ËÓõ.¯ğío(Æø¯6ié"–çR´¢“ „åÌ²`Bòw÷Ø‘Â1ğâéÖğÍÒNlıØ<¬ËÖmoõ‹ã]¼Ùoâİ•ÿ@k;ûwô>äÔ÷ı¼35°·B5rÍ7>£du}Wı9£Ÿ>5-ˆŞ9ŒÀDéT…_ÿØs§‹¶ú&5dµk;²gšõU·­–ôUH×ëS:}?4çnKlrRL<pe†£&›Š›Ä>©eo,”Vk;ÂŒÍW<‡•ÍÙ9h4åÀŠY'¾±9À´¤=ØäSNö5ÏÉıæps3y2œLÛğœó®‰ö°R¦†úZ«ï~{í`«ˆ(±ßö¬=¦m¤-£‘³Úäşÿó}½[gõ¿ËÍúê)¼; <éÔÄĞÙ·[ŸıEãÙ¹»©ÍîÎU¾Nç·¶Íòğ11¯´Môô>b0—µ€äÏkß[¸±£ajŒNXña^3\Éß{Çİù/”Ú¡ıëSšHj(‘%\årÖıËaııÈïŞn¯eÃvÜî‘ÙÛÏfìú‰ÆfÜÉa5IuM›µcÿàœ™ÓîYSz='ò}÷šP^óÓÎ|Ì?‹FÂÉÇéùüß’ğ’o<é‰N\åÂì*ÉeÏàÚf {Â¡‡‹˜øeµSÙï°ÿ:P«<à¼ã»ò)zl|ªzç9PÀrRap’ˆôà3*<ß5ßv¿U7?l‡›u³}Yk/éÅÛÃƒa LåÜT®Üîx·…©g9îê¤cÒzr´¦­eË·fÚ:3nOøë Ìû5ÿ~“jßçP8ûòšI"Y¹7n¿¦>_P­Æä»¯oÅ½¿€f6à
 lñNç*ÂL/éÿœO¼ùå`şØÇ]~ıV§ĞÏ–Ú[n¾Éc¾µê~§M–ÚFì?,<´{Û@Âp…˜Ôà´áòº?–V×iŞPQ‹]›ë*yƒõ·~\Í5Öfí_¦Ë\y å|Ò`¡ówœöZ¿ùíÑolÚßåşxWöúşËÊúàcãóÿo®ÓÛ5»ÔXÚ¾oge=Û†Gì´ÛDçĞtı:U,†2]OsIÆu˜2Çc‡jŞ*åx¾;¹¶Ã]	¤í§°äÙhG¶ÎåÄvò¯üµ2¯ß¾YŒå»'ôßì>Ùóf½İ™ÓÏï·y<çÛİ~}û±Î˜tÜ~ûœöêF+äNªÿâ,0èOlğ—™û?õ<….	:$wü fÌ*°#úE Üõ(b{t&.œÇ?äëª·|š½<Şİûì›Óå?\ü©¼û$Çni,wëvï$æ½VV)åÇC LtÅ¬íôxzÉÈ¯vh±hxY³ß—¿ÛçêÉ4ÅfìZÖ>nÙz_DÌÜiçU©ôRıå÷¾ßTOy ³8şŞÛu1æv7u¹>¤[ÓòÎUšÚ¤0¸øq)=ÜÀü³‘/÷Ù‰Îğ³¦î¯*ç^ç“ \»—âdfq‹ı[ö)øÖíEUß­ĞÕÌ ÜñP¨!‰Ybö£ëò©dçïëuş„ÛÅ7ïüüò2ßß¸»}sèNÔ#ÿÙ§Í°ÓãÛ7ïÀ=Z2ŠZ¹4um—0l¿c©)Ïì*õx#ÙŸ¦•Ñ÷kÕ}5m@Öni4c™ïŒË ÄÑ|ˆ•œ *>Ó¿ ëÂ³¾ÖÓÍtØEçÍÊ—ÿÛg7Ÿ0İr¼şúÈ4ç¿,7×ïlæõ¢'õ	òcÅÎÔùägFáqHò¦9ó–ôÆ­#Ê{\ıÍCy°vk5Tmgâ4<?xml version="1.0" encoding="iso-8859-1"?>
<!--
 The contents of this file are subject to the terms
 of the Common Development and Distribution License
 (the License).  You may not use this file except in
 compliance with the License.

 You can obtain a copy of the license at
 https://glassfish.dev.java.net/public/CDDLv1.0.html or
 glassfish/bootstrap/legal/CDDLv1.0.txt.
 See the License for the specific language governing
 permissions and limitations under the License.

 When distributing Covered Code, include this CDDL
 Header Notice in each file and include the License file
 at glassfish/bootstrap/legal/CDDLv1.0.txt.
 If applicable, add the following below the CDDL Header,
 with the fields enclosed by brackets [] replaced by
 you own identifying information:
 "Portions Copyrighted [year] [name of copyright owner]"

 Copyright 2006 Sun Microsystems, Inc. All rights reserved.
-->

  <!-- ======================================================== -->
  <!--  Application Server Common Properties            -->
  <!-- ======================================================== -->
  <!-- properties to be read from properties file - set default to -->
  <property file="${sample.home}/common.properties"/>
  <property file="${sample.home}/database.properties"/>
  <property environment="as.env"/>
  
  <property name="webDD.dir" value="web/WEB-INF"/>
  <property name="jspf.dir"  value="web/WEB-INF/jspf"/>
  <property name="tags.dir"  value="web/WEB-INF/tags"/>
  <property name="tlds.dir"  value="web/WEB-INF/tlds"/> 
  
  <property name="earDD"        value="application.xml,sun-application.xml"/>  
  <property name="warDD"        value="${webDD.dir}/web.xml,${webDD.dir}/sun-web.xml"/>
  <property name="jarDD"        value="ejb-jar.xml,sun-ejb-jar.xml"/>
  <property name="clientDD"     value="application-client.xml,sun-application-client.xml"/>
  <property name="src.conf"     value="src/conf"/>
  <property name="jarDD.dir"    value="${src.conf}"/>
  <property name="clientDD.dir" value="${src.conf}"/>
  <property name="setup.dir"     value="setup"/>
   
  <!-- change this property to use a compiler other than javac. -->
  <property name="build.compiler" value="modern"/>
  
  <!-- Source file location. -->
  <property name="src"    value="src/java"/>
  <property name="src.docroot"    value="web"/>
  
  <!-- Destination directory for the build and assembly targets -->
  <property name="build"                value="./build"/>
  <property name="javadocs.dir"         value="./javadocs/"/>
  <property name="build.classesdir"     value="${build}/classes"/>
  <property name="assemble"             value="${build}/assemble"/>
  <property name="assemble.jar"         value="${assemble}/jar"/>
  <property name="assemble.ejbjar"      value="${assemble}/jar"/>
  <property name="assemble.sharejar"    value="${assemble}/share"/>
  <property name="hyphen"               value="-"/>
  <property name="ejb-suffix-str"       value="ejb"/>
  <property name="ra-suffix-str"     	value="ra"/>
  <property name="share-suffix-str"     value="share"/>
  <property name="web-suffix-str"       value="war"/>
  <property name="appclient-suffix-str" value="client"/>
  <property name="standalone-client-suffix-str" value="standalone${hyphen}client"/>
  <property name="ejbjar-dir-suffix"    value="${hyphen}${ejb-suffix-str}"/>
  <property name="ra-dir-suffix"  	value="${hyphen}${ra-suffix-str}"/>
  <property name="sharejar-dir-suffix"  value="${hyphen}${share-suffix-str}"/>
  <property name="webwar-dir-suffix"    value="${hyphen}${web-suffix-str}"/>
  <property name="appclient-dir-suffix" value="${hyphen}${appclient-suffix-str}"/>
  <property name="standalone-client-dir-suffix" value="${hyphen}${standalone-client-suffix-str}"/>  
  <property name="assemble.war"         value="${assemble}/war"/>
  <property name="assemble.ear"         value="${assemble}/ear"/>
  <property name="assemble.clientjar"   value="${assemble}/client"/>
  <property name="ejbdir.build.classesdir"   value="../${sample.name}${ejbjar-dir-suffix}/${build.classesdir}"/>
  <property name="ejbdir.assemble.jardir"    value="../${sample.name}${ejbjar-dir-suffix}/${assemble}"/>
  <property name="sharedir.build.classesdir" value="../${sample.name}${sharejar-dir-suffix}/${build.classesdir}"/>

  <!-- Target file Names.                                      -->
  <property name="ear"         value="${binary.name}.ear"/>
  <property name="war"         value="${binary.name}.war"/>
  <property name="jar"         value="${binary.name}.jar"/>
  <property name="ejbjar"      value="${binary.name}Ejb.jar"/>
  <property name="clientjar"   value="${binary.name}Client.jar"/> 
  <property name="sharejar"    value="${binary.name}Share.jar"/>
 
  <!-- application type                                        -->
  <property name="apptype"     value="application"/>

  <!-- classpath jar files location. -->
  <property name="sample.classpath.dir" value="${com.sun.aas.installRoot}/lib"/>
  <property name="optional.taskdef.jar" value="sun-appserv-ant.jar"/>

   <!-- database properties -->
   <target name="check_db">
         <condition property="usingPointbase" value="true">
 	 <equals arg1="${default.database}" arg2="pointbase" casesensitive="false" trim="true"/>
	 </condition>          

         <condition property="usingOracleDD" value="true">
         <equals arg1="${default.database}" arg2="oracleDD" casesensitive="false" trim="true"/>
         </condition>

         <condition property="usingOracle" value="true">
         <equals arg1="${default.database}" arg2="oracle" casesensitive="false" trim="true"/>
         </condition>

         <condition property="usingOracleInet" value="true">
         <equals arg1="${default.database}" arg2="oracleInet" casesensitive="false" trim="true"/>
         </condition>
         
         <condition property="usingDerby" value="true">
         <equals arg1="${default.database}" arg2="derby" casesensitive="false" trim="true"/>
         </condition>
         
         <condition property="usingDerbyEmbedded" value="true">
         <equals arg1="${default.database}" arg2="derbyEmbedded" casesensitive="false" trim="true"/>
         </condition>

  </target>
    
  <target name="select_derby_user_password_common" if="usingDerby">
    <property name="db.user"  value="derbypublic"/>
    <property name="db.pwd"   value="derbypublic"/>
  </target>

  <target name="select_pointbase_user_password_common" if="usingPointbase">
    <property name="db.user"  value="pbpublic"/>
    <property name="db.pwd"   value="pbpublic"/>
  </target>
          
  <target name="select_db_username_password_common" depends="select_pointbase_user_password_common,select_derby_user_password_common"/>
  
  <target name="select_derby_sql_file_common" if="usingDerby">
    <property name="db.file"  value="${setup.dir}/sql/${derby.sql.location}/${derby.sql.location}"/>
  </target>
  
  <target name="select_pointbase_sql_file_common" if="usingPointbase">
    <property name="db.file"  value="${setup.dir}/sql/${pointbase.sql.location}/${pointbase.sql.location}" />          
  </target>
  
  <target name="select_derbyEmbedded_sql_file_common" if="usingDerbyEmbedded">
    <property name="db.file"  value="${setup.dir}/sql/${derby.sql.location}/${derby.sql.location}"/>    
  </target>
 
  <!--
  <target name="select_derby_sql_file_common" if="usingDerby">
    <antcall target="configure_for_derby" />  <!- - setup_derby should not have "if" - ->           
  </target>

  <target name="select_pointbase_sql_file_common" if="usingPointbase">
    <antcall target="configure_for_pointbase" />  <!- - setup_pointbase should not have "if" - ->           
  </target>
   -->
          
   
  <target name="select_db_file_username_password_common" depends="select_db_file_common,select_db_username_password_common"/>  
  <target name="select_db_file_common" depends="check_db,select_pointbase_sql_file_common,select_derby_sql_file_common,select_derbyEmbedded_sql_file_common"/>
  <!--<target name="select_db_file_common" depends="check_db,configure_for_pointbase,configure_for_derby,configure_for_derbyEmbedded,select_db_username_password_common">
    <property name="addDatabaseClasses2Classpath" value="true"/>
  </target>-->
   
    
  <!-- equivalent to target select_pointbase_sql_file_common -->
  <target name="configure_for_pointbase" if="usingPointbase">
     <!--AEM PROPERTIES COMMON TO ALL APPS-->
     <antcall target="setup_pointbase" />  <!-- setup_pointbase should not have "if" -->
     
     <!--AEM PROPERTIES that depend on the application -->
    <property name="db.file"  value="${setup.dir}/sql/${pointbase.sql.location}/${pointbase.sql.location}" />
  </target>
  
  <target name="configure_for_derby" if="usingDerby">
     <!--AEM PROPERTIES COMMON TO ALL APPS-->
     <antcall target="setup_derby" />  <!-- setup_derby should not have "if" -->
     
     <!--AEM PROPERTIES that depend on the application -->
    <property name="db.file"  value="${setup.dir}/sql/${derby.sql.location}/${derby.sql.location}" />         
  </target>
  
  <target name="configure_for_derbyEmbedded" if="usingDerbyEmbedded">
     <!--AEM PROPERTIES COMMON TO ALL APPS-->
     <antcall target="setup_derbyEmbedded" />  <!-- setup_derbyEmbedded should not have "if" -->
     
     <!--AEM PROPERTIES that depend on the application -->
    <property name="db.file"  value="${setup.dir}/sql/${derby.sql.location}/${derby.sql.location}" />         
  </target>
  
  <target name="addDbClasses2Classpath">
         <condition property="addDatabaseClasses2Classpath" value="true">
 	 <equals arg1="${default.database}" arg2="pointbase" casesensitive="false" trim="true"/>
	 </condition>          

         <condition property="addDatabaseClasses2Classpath" value="true">
         <equals arg1="${default.database}" arg2="oracleDD" casesensitive="false" trim="true"/>
         </condition>

         <condition property="addDatabaseClasses2Classpath" value="true">
         <equals arg1="${default.database}" arg2="oracle" casesensitive="false" trim="true"/>
         </condition>

         <condition property="addDatabaseClasses2Classpath" value="true">
         <equals arg1="${default.database}" arg2="oracleInet" casesensitive="false" trim="true"/>
         </condition>
         
         <condition property="addDatabaseClasses2Classpath" value="true">
         <equals arg1="${default.database}" arg2="derby" casesensitive="false" trim="true"/>
         </condition>
         
          <condition property="addDatabaseClasses2Classpath" value="true">
         <equals arg1="${default.database}" arg2="derbyEmbedded" casesensitive="false" trim="true"/>
         </condition>

  </target>

  <target name="setup_pointbase" if="usingPointbase">
           <property name="db.host" value="${pointbase.server}"/>
	   <property name="db.port" value="${pointbase.port}"/>
	   <property name="db.driver" value="${pointbase.driver}"/>
	   <property name="db.sid"   value="{pointbase.dbName}"/>
	   <property name="db.root" value="${com.sun.aas.pointbaseRoot}"/>
	   <property name="db.url" value="${pointbase.url}"/>  
	   <property name="db.classpath" value="${pointbase.classes}"/>
	   <property name="db.delimiter" value=";"/>	
	   <property name="url.prop" value="DatabaseName" />
	   <property name="ds.class" value="${pointbase.dataSource}" />
	   <property name="xa.ds.class" value="com.pointbase.xa.xaDataSource" />
	   <property name="dbvendorname" value="${pointbase.dbvendorname}" />	
           <!-- ant doesn't allow you to read this in from .properties file correctly, must hard code it-->
           <!--<property name="db.properties" value="${pointbase.properties}" />-->
           <property name="db.properties" value="user=${pointbase.user}:password=${pointbase.passwd}:DatabaseName=jdbc\:pointbase\:server\:\/\/${pointbase.server}\:${pointbase.port}\/${pointbase.dbName},new" />
           <!--<property name="addDatabaseClasses2Classpath" value="true"/>-->           
  </target>

  <target name="setup_oracle" if="usingOracle">
           <property name="db.host" value="${oracle.server}"/>
           <property name="db.port" value="${oracle.port}"/>
           <property name="db.driver" value="${oracle.driver}"/>
           <property name="db.sid"   value="{oracle.dbName}"/>
           <property name="db.root" value=""/>
           <property name="db.url" value="${oracle.url}"/>
           <property name="db.classpath" value="${oracle.classes}"/>
           <property name="db.delimiter" value=";"/>
           <property name="url.prop" value="DatabaseName"/> 
           <property name="ds.class" value="${oracle.XAdataSource}" />
	   <property name="dbvendorname" value="${oracle.dbvendorname}" />
           <property name="db.properties" value="${oracle.properties}" />
  </target>
 
  <target name="setup_oracleDD" if="usingOracleDD">
           <property name="db.host" value="${oracleDD.server}"/>
           <property name="db.port" value="${oracleDD.port}"/>
           <property name="db.driver" value="${oracleDD.driver}"/>
           <property name="db.sid"   value="{oracleDD.dbName}"/>
           <property name="db.root" value=""/>
           <property name="db.url" value="${oracleDD.url}"/>
           <property name="db.classpath" value="${oracleDD.classes}"/>
           <property name="db.delimiter" value=";"/>
           <property name="url.prop" value="DatabaseName" />
           <property name="ds.class" value="${oracleDD.dataSource}" />
           <property name="dbvendorname" value="${oracleDD.dbvendorname}" />
           <property name="db.properties" value="${oracleDD.properties}" />
  </target>


  <target name="setup_oracleInet" if="usingOracleInet">
           <property name="db.host" value="${oracleInet.server}"/>
           <property name="db.port" value="${oracleInet.port}"/>
           <property name="db.driver" value="${oracleInet.driver}"/>
           <property name="db.sid"   value="{oracleInet.dbName}"/>
           <property name="db.root" value=""/>
           <property name="db.url" value="${oracleInet.url}"/>
           <property name="db.classpath" value="${oracleInet.classes}"/>
           <property name="db.delimiter" value=";"/>
           <property name="url.prop" value="DatabaseName" />
           <property name="ds.class" value="${oracleInet.dataSource}" />
           <property name="dbvendorname" value="${oracleInet.dbvendorname}" />
           <property name="db.properties" value="${oracleInet.properties}" />
  </target>
  
  <target name="setup_derby" if="usingDerby">
           <property name="db.host" value="${derby.server}"/>
           <property name="db.port" value="${derby.port}"/>
           <property name="db.driver" value="${derby.driver}"/>
           <property name="db.sid"   value="${derby.dbName}"/>
           <property name="db.root" value="${com.sun.aas.derbyRoot}"/>
           <property name="db.url" value="${derby.url}"/>
           <property name="db.classpath" value="${derby.classes}"/>
           <property name="db.delimiter" value=";"/>
           <property name="url.prop" value="DatabaseName" />
           <property name="ds.class" value="${derby.dataSource}" />
           <property name="dbvendorname" value="${derby.dbvendorname}" />
           <property name="db.properties" value="${derby.properties}" />
  </target>
  <!-- taken from Lance
  <target name="configureDerby" if="usingDerby">
           <property name="db.delimiter" 
                     value=";"/>
           <property name="db.url" 
                     value="jdbc:derby:net://${db.host}:${db.port}/${db.name};create=true;retrieveMessagesFromServerOnGetMessage=true"/>
           <property name="db.driver" 
                     value="com.ibm.db2.jcc.DB2Driver"/>
           <property name="db.datasource" 
                     value="com.ibm.db2.jcc.DB2DataSource"/>
           <property name="db.properties" 
                     value="user=${db.user}:password=${db.password}:DatabaseName=${db.name}:driverType=4:portNumber=${db.port}" />
    </target>
    -->

  <target name="setup_derbyEmbedded" if="usingDerbyEmbedded">
           <property name="db.host" value="${derbyEmbedded.server}"/>
           <property name="db.port" value="${derbyEmbedded.port}"/>
           <property name="db.driver" value="${derbyEmbedded.driver}"/>
           <property name="db.sid"   value="{derbyEmbedded.dbName}"/>
           <property name="db.root" value="${com.sun.aas.derbyRoot}"/>
           <property name="db.url" value="${derbyEmbedded.url}"/>
           <property name="db.classpath" value="${derbyEmbedded.classes}"/>
           <property name="db.delimiter" value=";"/>
           <property name="url.prop" value="DatabaseName" />
           <property name="ds.class" value="${derbyEmbedded.dataSource}" />
           <property name="dbvendorname" value="${derbyEmbedded.dbvendorname}" />
           <property name="db.properties" value="${derbyEmbedded.properties}" />
  </target>
  
  <target name="setup_db" depends="check_db, setup_pointbase,setup_oracle,setup_oracleDD,setup_oracleInet,setup_derby,setup_derbyEmbedded"/>

  <target name="setLDLIBPATH" depends="checkPlatform" >
      <!-- For unix and linux platforms                 -->
      <!-- Add /opt/sun/private/lib for JES installs    -->
       <antcall target="setUnixLDLIBPATH" />

      <!-- For Windows platforms      -->
      <antcall target="setWindowsLDLIBPATH" />
  </target>

  <target name="setUnixLDLIBPATH" if="isUnixPlatform" >
      <echo message="Setting LD_LIBRARY_PATH to ${com.sun.aas.installRoot}/lib:/usr/lib/mps/secv1:/opt/sun/private/lib"/>
      <property name="LD_LIBRARY_PATH" value="${com.sun.aas.installRoot}/lib:/usr/lib/mps/secv1:/opt/sun/private/lib" />
  </target>

  <target name="setWindowsLDLIBPATH" if="isWindowsPlatform" >
      <!-- No LD_LIBRARY_PATH for Windows platforms      -->
      <property name="LD_LIBRARY_PATH" value="" />
  </target>

  <!-- ======================================================= -->
  <!--              Read/Set properties.                       -->
  <!-- ======================================================= -->

  <target name="init_common" depends="build_cpath">
    <!-- define these properties if samples dont define  -->
    <property name="classpath.prefix" value="."/>
    <property name="classpath.suffix" value="."/>
    <property name="build.classpath" 
      value="${classpath.prefix}:${ejbdir.build.classesdir}:${sharedir.build.classesdir}:${build.classesdir}:${appserver.cpath}:${classpath.suffix}"/>
    <property name="extraargs.1" value="" />
    <property name="extraargs.2" value="" />
    <property name="createTablesArgs" value="" />
    <property name="deleteTablesArgs" value="" />
    <property name="cluster.name" value="" />
    <property name="admin.password.file" value="${com.sun.aas.installRoot}/samples/password.txt" /> 
  </target>

  
  
  <!-- ======================================================= -->
  <!-- Classpath and environment        -->
  <!-- ======================================================= -->
  
  <target name="build_cpath" unless="appserver.cpath">
    <path id="sample_classpath_jars">
      <fileset dir="${com.sun.aas.installRoot}/lib" includes="*.jar" />
      <fileset dir="${com.sun.aas.webServicesLib}" includes="*.jar"/>
      <fileset dir="${com.sun.aas.imqLib}" includes="*.jar"/>      
      <fileset dir="${com.sun.aas.javaRoot}/lib" includes="tools.jar"/>      
    </path>
    <pathconvert pathsep=":" property="appserver.cpath" refid="sample_classpath_jars"/>
  </target>

  <target name="setup_env" depends="init_common,sethost,setport,setuser,setpassword,setinstance,update_env"/>

  <target name="update_env" if="update.done">
    <propertyfile file="${sample.home}/common.properties">
      <entry key="admin.host" value="${admin.host}"/>
      <entry key="admin.port" value="${admin.port}"/>
      <entry key="admin.password" value="${admin.password}"/>
      <entry key="admin.user" value="${admin.user}"/>
      <entry key="appserver.instance" value="${appserver.instance}"/>
    </propertyfile>
  </target>

  <target name="sethost" depends="envhost, readhost"/>
  <target name="envhost" if="as.env.AS_ADMIN_HOST" >
    <property name="admin.host" value="${as.env.AS_ADMIN_HOST}"/>
  </target>
  <target name="readhost" unless="admin.host" >
    <echo>
     ======================================================================================
     You will be promted for application server installation parameters. These inputs will 
     be stored in ${com.sun.aas.installRoot}/samples/common.properties. Please edit this 
     file to make any corrections in future.
     ======================================================================================
     </echo>
    <sun-appserv-input message="Please Enter app-server Host Name : " addproperty="admin.host" />
    <property name="update.done" value="true"/>
  </target>

  <target name="setport" depends="envport, readport"/>
  <target name="envport" if="as.env.AS_ADMIN_PORT" >
    <property name="admin.port" value="${as.env.AS_ADMIN_PORT}"/>
  </target>
  <target name="readport"  unless="admin.port" >
    <sun-appserv-input message="Please Enter app-server Admin Port : " addproperty="admin.port" />
    <property name="update.done" value="true"/>
  </target>
 
  <target name="setuser" depends="envuser, readuser"/>
  <target name="envuser" if="as.env.AS_ADMIN_USER" >
    <property name="admin.user" value="${as.env.AS_ADMIN_USER}"/>
  </target>
  <target name="readuser" unless="admin.user">
    <sun-appserv-input message="Please Enter app-server Admin User Name : " addproperty="admin.user" />
    <property name="update.done" value="true"/>
  </target>

  <target name="setpassword" depends="init_common, envpassword, readpassword">
    <echo message="AS_ADMIN_PASSWORD=${admin.password}" file="${admin.password.file}" />
  </target>
  <target name="envpassword" if="as.env.AS_ADMIN_PASSWORD" >
    <property name="admin.password" value="${as.env.AS_ADMIN_PASSWORD}"/>
  </target>
  <target name="readpassword"  unless="admin.password" >
    <sun-appserv-input message="Please Enter app-server Admin User Password : " addproperty="admin.password" />
    <property name="update.done" value="true"/>
  </target>

  <target name="setinstance" depends="envinstance, readinstance"/>

  <target name="envinstance" if="as.env.AS_ADMIN_INSTANCE" >
    <property name="appserver.instance" value="${as.env.AS_ADMIN_INSTANCE}"/>
    <echo message="${appserver.instance}"/>
  </target>
  <target name="readinstance"  unless="appserver.instance" >
    <sun-appserv-input message="Please Enter app-server Instance Name : " addproperty="appserver.instance" />
    <property name="update.done" value="true"/>
    <echo>
     ======================================================================================
     Your inputs have been stored in ${com.sun.aas.installRoot}/samples/common.properties. 
     Please edit this file to make any corrections.
     ======================================================================================
    </echo>
  </target>
  
  <!--
      add.classpathsuffix adds the classpath settings as defined in
      build.properties.
                                                                                                                                                             
     The path is converted to correctly reflect the OS that ant is being
     executed on.
    -->                                                                                                                                                             
   <target name="add.classpathsuffix" depends="configPlatform, addDbClasses2Classpath" if="addDatabaseClasses2Classpath">
        <echo message="Setting ${appserver.instance}.java-config.classpathsuffix=${j2ee.home.ri.classpathsuffix}"/>
        <path id="foosuffix">
            <pathelement location="${j2ee.home.ri.classpathsuffix}" />
        </path>
        <pathconvert targetos="${os}" property="classpathsuffix"
                     refid="foosuffix"
                     dirsep="${dirsep}" >
        </pathconvert>
        <exec executable="${exec.asadmin}" >
            <arg line=" set"/>
            <arg line=" --user ${admin.user}"/>
            <arg line=" --passwordfile '${admin.password.file}'"/>
            <arg line=" --host ${admin.host}"/>
            <arg line=" --port ${admin.port}"/>
            <arg line=" ${appserver.instance}.java-config.classpath_suffix=${classpathsuffix}"/>
        </exec>
        <antcall target="restart.server"/>
   </target>
    
  <!-- ======================================================= -->
  <!-- Compile all classes.                                    -->
  <!-- ======================================================= -->
  <target name="compile_common" depends="init_common">
    <mkdir dir="${build.classesdir}"/>
    <echo message="Compiling source files into ${build.classesdir}" />
    <javac srcdir="${src}"
           destdir="${build.classesdir}"
           classpath="${build.classpath}"/>
  </target> 
   
   
  <!-- ======================================================= -->
  <!-- Compile all JSP's.                                    -->
  <!-- ======================================================= -->
  
<target name="compile_jsp_common" depends="create_war_common">
     <echo message="Compiling JSP(s)"/>
     <mkdir dir="${assemble.war}/WEB-INF/generated"/>
     <sun-appserv-jspc
         webapp="${assemble.war}"
         destdir="${assemble.war}/WEB-INF/generated"
         classpath="${assemble.war}/WEB-INF/classes:${com.sun.aas.installRoot}/lib/appserv-rt.jar:${com.sun.aas.installRoot}/lib/j2ee.jar:${com.sun.aas.installRoot}/lib/appserv-ext.jar"/>
     <javac
         srcdir="${assemble.war}/WEB-INF/generated"
         destdir="${assemble.war}/WEB-INF/generated"
         debug="on"
         classpath="${assemble.war}/WEB-INF/classes:${com.sun.aas.installRoot}/lib/appserv-rt.jar:${com.sun.aas.installRoot}/lib/j2ee.jar:${com.sun.aas.installRoot}/lib/appserv-ext.jar">
         <include name="**/*.java"/>
     </javac>
   </target>
   
   
   <!-- ======================================================= -->
   <!--  Check the available subdirectories for this application -->
   <!-- ======================================================= -->
   
   <target name="check_for_components">
      <available file="${sample.name}${ejbjar-dir-suffix}"    type="dir" property="ejb.component.present"/>
      <available file="${sample.name}${webwar-dir-suffix}"    type="dir" property="war.component.present"/>
      <available file="${sample.name}${sharejar-dir-suffix}"  type="dir" property="share.component.present"/>
      <available file="${sample.name}${sharejar-dir-suffix}/${src}"  type="dir" property="share.java.component.present"/>
      <available file="${sample.name}${appclient-dir-suffix}" type="dir" property="client.component.present"/>
      <available file="${sample.name}${standalone-client-dir-suffix}" type="dir" property="standalone.client.component.present"/>
  </target>  
  
  
  <!-- ======================================================= -->
  <!-- Clean up various files and directories.                 -->
  <!-- ======================================================= -->
  
  
  <target name="clean_clientjar_common">
    <delete dir="${assemble.clientjar}"/>    
  </target>
  
  <target name="clean_ear_common">
    <delete dir="${assemble.ear}"/>    
  </target>
 
  <target name="clean_war_common">
    <delete dir="${assemble.war}"/>    
  </target>
 
  <target name="clean_ejbjar_common">
    <delete dir="${assemble.ejbjar}"/>    
  </target>
  
  <target name="clean_jar_common">
    <delete dir="${assemble.jar}"/>    
  </target>

  <target name="clean_common" >
    <delete dir="${build}"/>
    <delete dir="${javadocs.dir}"/>
    <delete dir="${assemble}"/>
  </target>

  <target name="clean_ejb_component" if="ejb.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${ejbjar-dir-suffix}" target="clean"/>
  </target>
  
  <target name="clean_war_component" if="war.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${webwar-dir-suffix}" target="clean"/>
  </target>
  
  <target name="clean_share_component" if="share.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${sharejar-dir-suffix}" target="clean"/>
  </target>
  
  <target name="clean_client_component" if="client.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${appclient-dir-suffix}" target="clean"/>
  </target>
  
  <target name="clean_standalone_client_component" if="standalone.client.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${standalone-client-dir-suffix}" target="clean"/>
  </target>
  
  <target name="clean_components" depends="check_for_components,clean_client_component,clean_ejb_component,clean_war_component,clean_share_component,clean_standalone_client_component"/>

  <target name="clean_all_common" depends="clean_components,clean_clientjar_common,clean_ear_common,clean_war_common,clean_ejbjar_common,clean_jar_common,clean_common"/>
  
 
  <!-- ======================================================= -->
  <!-- Core components              -->
  <!-- ======================================================= -->
  
  <target name="core_ejb_component" if="ejb.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${ejbjar-dir-suffix}" target="core"/>
      <property name="ejbjar.done" value="true"/>
  </target>
  
  <target name="core_war_component" if="war.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${webwar-dir-suffix}" target="core"/>
      <property name="war.done" value="true"/>
  </target>
  
  <target name="core_share_component" if="share.java.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${sharejar-dir-suffix}" target="core"/>
      <property name="sharejar.done" value="true"/>
  </target>
  
  <target name="core_client_component" if="client.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${appclient-dir-suffix}" target="core"/>
      <property name="clientjar.done" value="true"/>
  </target>
  
  <target name="core_standalone_client_component" if="standalone.client.component.present">
      <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${standalone-client-dir-suffix}" target="core"/>
      <property name="standalone.clientjar.done" value="true"/> 
  </target>
  
  <target name="core_all_common" depends="check_for_components,core_share_component,core_ejb_component,core_war_component,core_client_component,core_standalone_client_component"/>

  <!-- ======================================================= -->
  <!-- Create Javadocs component                               -->
  <!-- ======================================================= -->
  
  <target name="javadocs_common" depends="init_common">
    <!-- delete dir="${javadocs.dir}"/-->
    <mkdir dir="${javadocs.dir}"/>
    <javadoc packagenames="${javadoc.pkgnames}"
             destdir="${javadocs.dir}"
             classpath="${build.classpath}"
             author="true"
             version="true"
             use="true"
             windowtitle="Sun Java System Application Server ${sample.name} Sample Application API"
             doctitle="Sun Java System Application Server ${sample.name} Sample"
             bottom="Copyright &#169; 2004-2005 Sun Microsystems Inc. All Rights Reserved.">
	<sourcepath>
		<dirset dir=".">
		    <include name="${src}"/>
		    <include name="${sample.name}${sharejar-dir-suffix}/${src}"/>
		    <include name="${sample.name}${appclient-dir-suffix}/${src}"/>
		    <include name="${sample.name}${webwar-dir-suffix}/${src}"/>
		    <include name="${sample.name}${ejbjar-dir-suffix}/${src}"/>
		    <include name="${sample.name}${ra-dir-suffix}/${src}"/>
		</dirset>
	</sourcepath>
    </javadoc>
  </target>

  <target name="javadocs_noop_common">
    <echo message="This module does not contain any .java files to run javadocs."/>
  </target>
  
  <target name="javadocs_all_common" depends="javadocs_common"/>

    
  <!-- ======================================================= -->
  <!-- Top level targets                                 -->
  <!-- ======================================================= --> 

  <target name="copy_war_common" if="application.type.war">
      <delete file="./${war}"/>
      <copy file="${assemble.war}/${war}" todir="." />
  </target>
  
  <target name="copy_ear_common" if="application.type.ear">
      <delete file="./${ear}"/>
      <copy file="${assemble.ear}/${ear}" todir="." />
  </target>
    
  <target name="check_for_application_specific_jar">
    <available file="${specificjar.dir}/${specificjar.name}" type="file" property="application.specific.jars.present"/>  
  </target>
  
  <target name="copy_application_specific_jar" if="application.specific.jars.present">    
    <delete file="./${specificjar.name}"/>
     <copy file="${specificjar.dir}/${specificjar.name}" todir="." />
  </target>

  <target name="copy_binary" depends="copy_war_common,copy_ear_common,check_for_application_specific_jar,copy_application_specific_jar"/>
  
  <!-- ======================================================= -->
  <!-- Assemble WAR module.                                    -->
  <!-- ======================================================= -->
  
  <target name="check_warfile">
    <available file="${build.classesdir}/${war.pkg}/" type="dir" 
               property="warfiles.present"/>
    <available file="${src.docroot}" type="dir" 
               property="docroot.present"/>
    <available file="${src.conf}" type="dir" 
               property="src.conf.present"/>
  </target>

  <target name="copy_warfiles" if="warfiles.present">
    <copy todir="${assemble.war}/WEB-INF/classes/${war.pkg}">
      <fileset dir="${build.classesdir}/${war.pkg}/" includes="**/*.class"/>
    </copy>
  </target>

  <target name="copy_docroot" if="docroot.present">
    <copy todir="${assemble.war}">
      <fileset dir="${src.docroot}" excludes="cvs,annontation"/>
    </copy>
  </target>

  <target name="copy_properties_to_war" if="warfiles.present">
    <copy todir="${assemble.war}/WEB-INF/classes">
      <fileset dir="${src.conf}/" includes="**/*.properties"/>
    </copy>
  </target>
  
  <target name="copy_ejbjar_war" if="ejbjar.done">
    <copy file="${sample.name}${ejbjar-dir-suffix}/${assemble.ejbjar}/${ejbjar}" 
          tofile="${assemble.war}/WEB-INF/lib/${ejbjar}"/>
  </target>


  <target name="mkdir_war">
    <mkdir dir="${assemble.war}"/>
  </target>
  
  <target name="add_classes" if="warfiles.present">
    <jar destfile="${assemble.war}/${war}" update="true">
      <zipfileset dir="${build.classesdir}/${war.pkg}/" includes="**/*.class" 
                                       prefix="WEB-INF/classes/${war.pkg}"/>
    </jar>
  </target>
  
  <target name="add_properties" if="src.conf.present">    
    <jar destfile="${assemble.war}/${war}" update="true">
      <zipfileset dir="${src.conf}/" includes="**/*.properties"
                                     prefix="WEB-INF/classes/"/>
    </jar>
  </target>

  <target name="add_docroot" if="docroot.present">
    <jar destfile="${assemble.war}/${war}" update="true">
      <fileset dir="${src.docroot}" excludes="CVS,annotation"/>
    </jar>
  </target>

  <target name="add_ejbjar_war" if="ejbjar.done">
    <jar destfile="${assemble.war}/${war}" update="true">
      <zipfileset dir="../${sample.name}${ejbjar-dir-suffix}/${assemble.ejbjar}" includes="${ejbjar}" 
                                           prefix="WEB-INF/lib"/>
    </jar>
  </target>
  
  <target name="add_sharejar_war" if="sharejar.done">
    <jar destfile="${assemble.war}/${war}" update="true">
      <zipfileset dir="../${sample.name}${sharejar-dir-suffix}/${assemble.sharejar}" includes="${sharejar}" 
                                           prefix="WEB-INF/lib"/>
    </jar>
  </target>

  <target name="add_ejbjar_classes_to_webwar" if="add.ejbjarclasses.to.webwar">
    <jar destfile="${assemble.war}/${war}" update="true">
      <zipfileset dir="../${sample.name}${ejbjar-dir-suffix}/${assemble.ejbjar}" includes="**/*.class" 
                                            excludes="**/*Client.class" prefix="WEB-INF/classes/${jar.pkg}"/>
    </jar>
  </target> 
  
  <target name="create_war_common" depends="clean_war_common,mkdir_war,check_warfile,add_docroot,add_classes,add_properties,add_sharejar_war,add_ejbjar_war,add_ejbjar_classes_to_webwar">
    <property name="war.done" value="true"/>
  </target>

  <!-- ======================================================= -->
  <!-- Assemble EAR module.                                    -->
  <!-- ======================================================= -->
  
  <target name="mkdir_ear">
    <mkdir dir="${assemble.ear}/META-INF"/>
  </target>
 
  <target name="copy_ejbjar" if="ejbjar.done">
    <copy file="${assemble.ejbjar}/${ejbjar}" 
          tofile="${assemble.ear}/${ejbjar}"/>
  </target>

  <target name="copy_war" if="war.done">
    <copy file="${assemble.war}/${war}"    tofile="${assemble.ear}/${war}"/>
  </target>
  
  <target name="copy_clientjar" if="clientjar.done">
     <copy file="${assemble.clientjar}/${clientjar}" 
           tofile="${assemble.ear}/${clientjar}"/>
  </target>
  

  <target name="mkdir_ear_dir">
    <mkdir dir="${assemble.ear}"/>
  </target>

  <target name="add_ejbjar" if="ejbjar.done">
    <jar destfile="${assemble.ear}/${ear}" update="true">
      <fileset dir="${sample.name}${ejbjar-dir-suffix}/${assemble.ejbjar}" includes="${ejbjar}"/>
    </jar>
  </target>
  
  <target name="add_sharejar" if="sharejar.done">
    <jar destfile="${assemble.ear}/${ear}" update="true">
      <fileset dir="${sample.name}${sharejar-dir-suffix}/${assemble.sharejar}" includes="${sharejar}"/>
    </jar>
  </target>

  <target name="add_war" if="war.done">
    <jar destfile="${assemble.ear}/${ear}" update="true">
      <fileset dir="${sample.name}${webwar-dir-suffix}/${assemble.war}" includes="${war}"/>
    </jar>
  </target>

  <target name="add_clientjar" if="clientjar.done">
    <jar destfile="${assemble.ear}/${ear}" update="true">
      <fileset dir="${sample.name}${appclient-dir-suffix}/${assemble.clientjar}" includes="${clientjar}"/>
    </jar>
  </target>

  <target name="create_ear_common" depends="clean_ear_common,mkdir_ear_dir,add_sharejar,add_ejbjar,add_clientjar,add_war">
    <jar destfile="${assemble.ear}/${ear}" update="true">
      <metainf dir="${src.conf}" includes="${earDD}"/>
    </jar>
    <delete file="../${war}" />
    <delete file="../${ejbjar}" />
    <delete file="../${clientjar}" />    
  </target>
 
  
  <!-- ======================================================= -->
  <!-- Assemble SHARE JAR module.                                -->
  <!-- ======================================================= -->
  
  <target name="clean_sharejar_common">
    <delete dir="${assemble.sharejar}"/>    
  </target>
  
  <target name="create_sharejar_common" depends="clean_sharejar_common">
    <mkdir dir="${assemble.sharejar}"/>
    <jar destfile="${assemble.sharejar}/${sharejar}">
      <zipfileset dir="${build.classesdir}" includes="**/*.class"/>
    </jar>
    <property name="sharejar.done" value="true"/>
  </target>
  
  
  <!-- ======================================================= -->
  <!-- Assemble EJB JAR module.                                -->
  <!-- ======================================================= -->
  
  <target name="check_ejbjarfile">
    <available file="${build.classesdir}/${jar.pkg}/" type="dir" 
               property="ejbjarfiles.present"/>    
  </target>
        
  <target name="add_sharejar_to_ejb_jar" if="sharejar.done">
    <jar destfile="${assemble.ejbjar}/${ejbjar}" update="true">      
      <zipfileset dir="../${sample.name}${sharejar-dir-suffix}/${assemble.sharejar}" 
                  includes="${sharejar}"/>
    </jar>
  </target>
  
  <target name="add_shareclasses_to_ejb_jar" if="sharejar.done">
    <jar destfile="${assemble.ejbjar}/${ejbjar}" update="true">
      <zipfileset dir="../${sample.name}${sharejar-dir-suffix}/${build}/classes/" 
                  includes="**/*.class" 
                  excludes="**/servlet/"/>
    </jar>
  </target>
   
  <target name="add_wsdlfiles_to_ejb_jar" if="iswebserviceclient">
    <jar destfile="${assemble.ejbjar}/${ejbjar}" update="true">
      <zipfileset dir="../${sample.name}${ejbjar-dir-suffix}/${src.conf}" includes="${wsdlfile}" 
                                           prefix="META-INF/wsdl/"/>
      <zipfileset dir="../${sample.name}${ejbjar-dir-suffix}/${build}/shared" includes="mapping.xml" 
                                           prefix="shared/"/>
    </jar>
  </target>
  
  <target name="add_classes_to_ejb_jar">
    <jar destfile="${assemble.ejbjar}/${ejbjar}" update="true">
      <zipfileset dir="${build.classesdir}/" includes="**/*.class" 
                  excludes="**/servlet/, **/client/"/>
      <metainf dir="${jarDD.dir}" includes="${jarDD}"/>          
    </jar>
  </target>     
  
  <target name="mkdir_ejbjar_common">
    <mkdir dir="${assemble.ejbjar}"/>  
  </target>
  
  <target name="create_ejbjar_common" 
    depends="clean_ejbjar_common,mkdir_ejbjar_common,compile_common,add_classes_to_ejb_jar,add_shareclasses_to_ejb_jar,add_wsdlfiles_to_ejb_jar">   
    <property name="ejbjar.done" value="true"/>
  </target>
  
  <!-- ======================================================= -->
  <!-- Assemble EJB JAR module.        OLD WAY                 -->
  <!-- ======================================================= -->
  <target name="create_ejbjar_common_old" depends="clean_ejbjar_common">
    <mkdir dir="${assemble.ejbjar}"/>
    <jar destfile="${assemble.ejbjar}/${ejbjar}">
      <zipfileset dir="${build.classesdir}/${jar.pkg}/" includes="**/*.class" 
                  excludes="**/servlet/, **/client/" prefix="${jar.pkg}"/>
      <metainf dir="${jarDD.dir}" includes="${jarDD}"/>
    </jar>
    <!-- AEM NEEDED?copy file="${assemble.ejbjar}/${ejbjar}" tofile="../${ejbjar}"/>-->
    <property name="ejbjar.done" value="true"/>
  </target>
  
  
  
  <!-- ======================================================= -->
  <!-- Assemble CLIENT JAR module.        OLD WAY              -->
  <!-- ======================================================= -->
  
  <target name="clientjar_common" depends="clean_clientjar_common">
    <mkdir dir="${assemble.clientjar}"/>
    <jar destfile="${assemble.clientjar}/${clientjar}" manifest="${clientDD.dir}/MANIFEST.MF">
      <zipfileset dir="${build.classesdir}/${app.pkg}/" 
                  includes="**/*Client.class" excludes="**/servlet/"
                  prefix="${app.pkg}"/>
      <metainf dir="${clientDD.dir}" includes="${clientDD}"/>
    </jar>
    <property name="clientjar.done" value="true"/>
  </target>

 <target name="core_clientjar_common">  
     <ant antfile="build.xml" inheritAll="true" dir="${sample.name}${appclient-dir-suffix}" target="core"/>
     <property name="clientjar.done" value="true"/>   
  </target>  
  
  
  <!-- ======================================================= -->
  <!-- Assemble APPCLIENT JAR module.                          -->
  <!-- ======================================================= -->
  
  <target name="add_sharejar_to_appclient_jar" if="sharejar.done">
    <jar destfile="${assemble.clientjar}/${clientjar}" update="true">
      <zipfileset dir="../${sample.name}${sharejar-dir-suffix}/${assemble.sharejar}" 
                  includes="${sharejar}"/>
    </jar>
  </target>
  
  <target name="add_shareclasses_to_appclient_jar" if="sharejar.done">
    <jar destfile="${assemble.clientjar}/${clientjar}" update="true">
      <zipfileset dir="../${sample.name}${sharejar-dir-suffix}/${build}/classes/" 
                  includes="**/*.class" 
                  excludes="**/servlet/"/>
    </jar>
  </target>
   
  <target name="add_wsdlfiles_to_appclient_jar" if="iswebserviceclient">
    <jar destfile="${assemble.clientjar}/${clientjar}" update="true">
      <zipfileset dir="../${sample.name}${webwar-dir-suffix}/${src.conf}" includes="${wsdlfile}" 
                                           prefix="META-INF/wsdl/"/>
      <zipfileset dir="../${sample.name}${webwar-dir-suffix}/${build}/shared" includes="mapping.xml" 
                                           prefix="shared/"/>
    </jar>
  </target>
  
  <target name="add_classes_to_appclient_jar">
    <jar destfile="${assemble.clientjar}/${clientjar}" update="true">
      <zipfileset dir="${build.classesdir}/" includes="**/*.class" 
                  excludes="**/servlet/"/>
      <metainf dir="${clientDD.dir}" includes="${clientDD}"/>
      <manifest>
         <attribute name="Main-Class" value="${appclient-Main-Class}" />
       </manifest>     
    </jar>
  </target>
  
  <target name="clean_appclientjar_common">
    <delete dir="${assemble.clientjar}"/>    
  </target>
  
  <target name="mkdir_appclientjar_common">
    <mkdir dir="${assemble.clientjar}"/>  
  </target>
  
  <target name="add_ejbjar_classes_to_clientjar" if="add.ejbjarclasses.to.clientjar">  
    <jar destfile="${assemble.clientjar}/${clientjar}" update="true">    
          <zipfileset dir="../${sample.name}${ejbjar-dir-suffix}/${build.classesdir}/${jar.pkg}" includes="**/*.class"     
                                            excludes="**/servlet/" prefix="${jar.pkg}"/>
    </jar>    
  </target> 
  
  <target name="create_appclientjar_common" 
    depends="clean_appclientjar_common,mkdir_appclientjar_common,compile_common,add_classes_to_appclient_jar,add_shareclasses_to_appclient_jar,add_wsdlfiles_to_appclient_jar,add_ejbjar_classes_to_clientjar">   
    <property name="clientjar.done" value="true"/>
  </target>
  
  
  <!-- ======================================================= -->
  <!-- Assemble Simple JAR file.                               -->
  <!-- ======================================================= -->
  
  <target name="create_jar_common" depends="clean_jar_common">
    <mkdir dir="${assemble.jar}"/>
    <jar destfile="${assemble.jar}/${jar}">
      <zipfileset dir="${build.classesdir}/${app.pkg}/" includes="**/*.class"
                                                        prefix="${app.pkg}"/>
    </jar>
  </target>

       
  <!-- ======================================================= -->
  <!-- Deploy CLI support.                                    -->
  <!-- ======================================================= -->

    <!-- checkPlatform determines which OS is being utilized. -->
    <target name="checkPlatform" >
        <condition property ="isUnixPlatform">
           <os family="unix"/>
        </condition>
        <condition property ="isWindowsPlatform">
           <os family="windows"/>
        </condition>
    </target>
    
     <!--
         configUnix will be invoked when ant is being run on 
         unix/Linux.  It will configure the values for ${os}
         and ${dir.sep}
         
         Due to differences on how ant invokes external commands
         on windows, we need to execute asadmin and imqusermgr
         differently on each platform.
    -->
    <target name="configUnix" depends="checkPlatform" if="isUnixPlatform" >
           <echo message="on unix"/>
           <property name="dir.sep" value="/"/>
           <property name="os" value="unix"/>
           <property name="exec.asadmin" value="${com.sun.aas.installRoot}/bin/asadmin"/>
           <property name="exec.appclient" value="${com.sun.aas.installRoot}/bin/appclient"/>
           <property name="exec.verifier" value="${com.sun.aas.installRoot}/bin/verifier"/>
           <property name="exec.imqusermgr" value="${com.sun.aas.imqBinDir}/imqusermgr" />
    </target>    
            
    <!--
         configWindows will be invoked when ant is being run on 
         windows.  It will configure the values for ${os}
         and ${dir.sep}
         
         Due to differences on how ant invokes external commands
         on windows, we need to execute asadmin and imqusermgr
         differently on each platform.
    -->
    <target name="configWindows" depends="checkPlatform" if="isWindowsPlatform" >
           <echo message="on windows"/>
           <property name="dir.sep" value="\\"/>
           <property name="os" value="windows"/>
           <property name="exec.asadmin" value="${com.sun.aas.installRoot}/bin/asadmin.bat"/>
           <property name="exec.appclient" value="${com.sun.aas.installRoot}/bin/appclient.bat"/>
           <property name="exec.verifier" value="${com.sun.aas.installRoot}/bin/verifier.bat"/>
           <property name="exec.imqusermgr" value="${com.sun.aas.imqBinDir}/imqusermgr.exe" />
    </target>
     
    
  <target name="select_update_war_common" if="application.type.war">
    <condition property="update.file" value="${assemble.war}/${war}"> 
        <available file="${assemble.war}/${war}"/>   
    </condition>    
  </target> 

  <target name="select_update_ear_common" if="application.type.ear">
    <condition property="update.file" value="${assemble.ear}/${ear}"> 
        <available file="${assemble.ear}/${ear}"/>   
    </condition>    
  </target> 
  
  <target name="select_update_binary_common" depends="select_update_war_common,select_update_ear_common"/>
  
  <!-- ======================================================= -->
  <!-- Update target.                                          -->
  <!-- ======================================================= -->
  <target name="update_common" if="update.file" depends="setup_env">
    <echo message="Updating ${update.file}."/>
    <sun-appserv-update file="${update.file}"/>
  </target>
  
  <!-- ======================================================= -->
  <!-- Update target: dynamically updates and reloads app.     -->
  <!-- ======================================================= -->
  <!-- ============================================================================ -->
  <!-- Does destfile = ${build.dir}/hello.war exists                                -->
  <!-- If it does, we can go ahead and pass the control to the update_common target -->
  <!-- If it doesn't, then we flag a  message to the user                           -->
  <!-- saying that he needs to build the sample again using "asant core".           -->
  <!-- ============================================================================ -->
  <target name="update" depends="init_common,select_update_binary_common,update_common,echo_rebuild_sample_warning" />  
  
  <target name="echo_rebuild_sample_warning" unless="update.file" >
    <echo>
     ======================================================
     You need to build the sample using "asant core" 
     before invoking the "update" target.
     ======================================================
     </echo>    
  </target>
  
  <!-- ======================================================= -->
  <!-- Deploy CLI support.                                    -->
  <!-- ======================================================= -->
  <!-- Name of the asadmin commands -->  
  <property name="sjsas.domain.dir" value="${com.sun.aas.installRoot}/domains"/>
  <property name="sjsas.domain.name" value="${domain.name}"/>    
  <property name="sjsas.domain" value="${sjsas.domain.dir}/${sjsas.domain.name}"/>
    
  <target name="configPlatform"
       depends="checkPlatform, configUnix, configWindows"/>
  
  <target name="reconfig.restart" depends="init_common, setpassword, configPlatform">
    <antcall target="restart.server"/>
  </target>   
      
  <target name="restart.server" depends="init_common, setpassword, configPlatform">
     <antcall target="stop.appserver"/>   
     <antcall target="start.appserver"/>   
  </target>

  <target name="stop.appserver" depends="configPlatform, init_common, setpassword">
    <echo message="Stopping Appserver on ${admin.host}"/>
    <sun-appserv-admin explicitcommand="stop-domain ${domain.name}" />
    <echo message="Waiting for server to stop before restarting."/>
 </target>
  
  <target name="start.appserver" depends="configPlatform, init_common, setpassword">
    <echo message="Restarting appserver on ${admin.host}"/>
    <sun-appserv-admin explicitcommand="start-domain ${domain.name}" />
    <echo message="Appserver started."/>
  </target>
 
 
  <!-- ======================================================= -->
  <!-- Create the CMP tables if they will not be created by the -->
  <!-- appserver at deploy time.                               -->
  <!-- ======================================================= --> 
 
  <target name="common.configure.db" depends="setup_db">
    <echo message="Create the CMP tables if they will not be created by the appserver at deploy time."/>
        <sql driver="${db.driver}"
             url="${db.url}"
             userid="${db.user}"
             password="${db.pwd}"
             classpath="${db.classpath}"
             delimiter="${db.delimiter}"
             autocommit="true"
             onerror="continue" >
             <transaction src="${transaction.src}"/>             
        </sql>               
  </target>            
  
  <target name="common.unconfigure.db" depends="setup_db">
    <echo message="Delete the CMP tables at undeploy time."/>
      <sql driver="${db.driver}"
             url="${db.url}"
             userid="${db.user}"
             password="${db.pwd}"
             classpath="${db.classpath}"
             delimiter="${db.delimiter}"
             autocommit="true"
             onerror="continue" >
             <transaction src="${transaction.src}"/>             
        </sql>                   
  </target>  
  
   
  <!-- ======================================================= -->
  <!-- FileRealm key generaion targets.                        -->
  <!-- ======================================================= -->

  <target name="setuserpassword" depends="init_common, envpassword, readpassword">
    <echo message="AS_ADMIN_PASSWORD=${admin.password}${line.separator}" file="${admin.password.file}" />
    <echo message="AS_ADMIN_USERPASSWORD=${app.userpassword}" file="${admin.password.file}" append="true" />
  </target>
  
  <target name="keygen_create" depends="setup_env"  unless="file.user.exists.common${app.user}">
    <echo message="Generating key for user ${app.user} in server ${appserver.instance}"/>
    <antcall target="setuserpassword"/>
    <sun-appserv-admin 
      command="create-file-user --groups ${app.groups} ${app.user}"
      user="${admin.user}" 
      passwordfile="${admin.password.file}" 
      host="${admin.host}" 
      port="${admin.port}" 
      asinstalldir="${com.sun.aas.installRoot}" />
  </target>

  <target name="keygen_common" depends="setup_env, verify_file_user_exists_common">
   <antcall target="keygen_create"/>
  </target>

  <target name="keydel_common" depends="setup_env">
    <echo message="Deleting key for user ${app.user} in server ${appserver.instance}"/>
    <sun-appserv-admin 
      command="delete-file-user ${app.user}"
      user="${admin.user}" 
      passwordfile="${admin.password.file}" 
      host="${admin.host}" 
      port="${admin.port}" 
      asinstalldir="${com.sun.aas.installRoot}" />
  </target>
  
  
  
  <!-- ======================================================= -->
  <!-- Selecting the appropriate file for deployment/verify    -->
  <!-- ======================================================= -->  
   
  <target name="select_clientjar_common" depends="init_common">
    <condition property="deploy.file" value="${assemble.clientjar}/${clientjar}"> 
        <available file="${assemble.clientjar}/${clientjar}"/>   
    </condition>
    <property name="deploy.file" value="./${clientjar}"/>
    
    <condition property="verify.file" value="${assemble.clientjar}/${clientjar}"> 
        <available file="${assemble.clientjar}/${clientjar}"/>   
    </condition>
    <property name="verify.file" value="./${clientjar}"/>
  </target> 
  
  <target name="select_jar_common" depends="init_common">
    <condition property="deploy.file" value="${assemble.jar}/${clientjar}"> 
        <available file="${assemble.jar}/${ejbjar}"/>   
    </condition>
    <property name="deploy.file" value="./${ejbjar}"/>
    
    <condition property="verify.file" value="${assemble.ejbjar}/${ejbjar}"> 
        <available file="${assemble.ejbjar}/${ejbjar}"/>   
    </condition>
    <property name="verify.file" value="./${ejbjar}"/>
  </target> 
  
  <target name="select_war_common" if="application.type.war">
    <condition property="deploy.file" value="${assemble.war}/${war}"> 
        <available file="${assemble.war}/${war}"/>   
    </condition>
    <property name="deploy.file" value="./${war}"/>
    
    <condition property="verify.file" value="${assemble.war}/${war}"> 
        <available file="${assemble.war}/${war}"/>   
    </condition>
    <property name="verify.file" value="./${war}"/>
  </target> 

  <target name="select_ear_common" if="application.type.ear">
      <condition property="deploy.file" value="${assemble.ear}/${ear}"> 
        <available file="${assemble.ear}/${ear}"/>   
    </condition>
    <property name="deploy.file" value="./${ear}"/>
    
    <condition property="verify.file" value="${assemble.ear}/${ear}"> 
        <available file="${assemble.ear}/${ear}"/>   
    </condition>
    <property name="verify.file" value="./${ear}"/>
   </target> 
  
  <target name="select_binary_common" depends="select_war_common,select_ear_common"/>
  
  <!-- ======================================================= -->
  <!-- Install targets.                                        -->
  <!-- ======================================================= -->
  <target name="set_createTable_args_common" if="usingDerby">    
    <property name="createTablesArgs"  value="--dropandcreatetables=true"/>    
  </target>
  <target name="set_dropTable_args_common" if="usingDerby">
     <property name="deleteTablesArgs"  value="--droptables=true"/>  
  </target>
  
  <target name="deploy_common" depends="setup_env, setup_db, configPlatform">
    <echo message="Deploying ${deploy.file}."/>
    <exec executable="${exec.asadmin}" >
        <arg line=" deploy"/>
        <arg line=" --user ${admin.user}"/>
        <arg line=" --passwordfile '${admin.password.file}'"/>
        <arg line=" --host ${admin.host}"/>
        <arg line=" --port ${admin.port}"/>
        <arg line=" --virtualservers ${appserver.instance}"/>
        <arg line=" --force=true"/>
        <arg line=" --name ${binary.name}"/>
        <arg line=" --upload=true"/>
        <arg line=" --dbvendorname=${dbvendorname}"/>
        <arg line="${extraargs.1}"/>
        <arg line="${extraargs.2}"/>
        <arg line="${createTablesArgs}"/>
        <arg line="${deploy.file}"/>
     </exec>   
  </target>
  
  <target name="deploy_retrieve_common" depends="setup_env, configPlatform">
    <echo message="Deploying ${deploy.file} and retrieving client stubs."/>
    <exec executable="${exec.asadmin}" >
        <arg line=" deploy"/>
        <arg line=" --user ${admin.user}"/>
        <arg line=" --passwordfile '${admin.password.file}'"/>
        <arg line=" --host ${admin.host}"/>
        <arg line=" --port ${admin.port}"/>
        <arg line=" --virtualservers ${appserver.instance}"/>
        <arg line=" --force=true"/>
        <arg line=" --name ${binary.name}"/>
        <arg line=" --upload=true"/>
        <arg line=" --retrieve=./"/>
        <arg line=" --dbvendorname=${dbvendorname}"/>
        <arg line="${extraargs.1}"/>
        <arg line="${extraargs.2}"/>
        <arg line="${createTablesArgs}"/>
        <arg line="${deploy.file}"/> 
     </exec> 
  </target>  
  
  <target name="deploy_noop_common">
    <echo message="This sample does not contain any J2EE application modules to deploy."/>
  </target>
  
  
  <!-- ======================================================= -->
  <!-- Uninstall targets.                                      -->
  <!-- ======================================================= -->
  <target name="undeploy_common" depends="setup_env, configPlatform">
    <echo message="Undeploying ${binary.name}."/>
    <exec executable="${exec.asadmin}" >
        <arg line=" undeploy"/>
        <arg line=" --user ${admin.user}"/>
        <arg line=" --passwordfile '${admin.password.file}'"/>
        <arg line=" --host ${admin.host}"/>
        <arg line=" --port ${admin.port}"/>
        <arg line=" ${extraargs.1}"/>
        <arg line=" ${deleteTablesArgs}"/>
        <arg line=" ${binary.name}"/>
    </exec>
  </target>

  <target name="set_stubfile_name">
       <property name="stub.file" value="./${binary.name}Client.jar"/>
   </target>
   
  <target name="undeploy_clean_stubs_common" depends="set_stubfile_name,undeploy_common">
      <echo message="Removing application client stubs: ${stub.file}."/>
      <delete file="${stub.file}" />
  </target>
  
   <target name="undeploy_noop_common">
    <echo message="There is no J2EE component to undeploy for this sample. Please refer to the documentation for this sample."/>
  </target>
 
  
  <!-- ======================================================= -->
  <!-- Admin targets.                                      -->
  <!-- ======================================================= -->
  <target name="admin_command_common" depends="setup_env">
    <echo message="Doing admin task ${admin.command}"/>
    <sun-appserv-admin 
      command="${admin.command}"
      user="${admin.user}"             
      passwordfile="${admin.password.file}"
      host="${admin.host}" 
      port="${admin.port}" 
      asinstalldir="${com.sun.aas.installRoot}" />       
  </target>         
  
  <target name="echo_portability_EJB_common" if="echo.non.portable.EJB.verifier.usage">
    <echo message="NOTE: This module ${verify.file} demonstrates application server specific functionality and therefore the following test: " />
    <echo message="        tests.ejb.EjbArchiveClassesLoadable " />
    <echo message="does not pass the verifier." />
  </target>
  
  <target name="echo_portability_WEB_WarClassesLoadable_common" if="echo.non.portable.WEB.WarClassesLoadable.verifier.usage">
    <echo message="NOTE: This module ${verify.file} demonstrates application server specific functionality and therefore the following test: " />
    <echo message="        tests.web.WebArchiveClassesLoadable" />
    <echo message="does not pass the verifier." />
  </target>
  
  <target name="echo_portability_WEB_AllJSPsCompilable_common" if="echo.non.portable.WEB.AllJSPsCompilable.verifier.usage">
    <echo message="NOTE: This module ${verify.file} demonstrates application server specific functionality and therefore the following test: " />
    <echo message="        tests.web.AllJSPsMustBeCompilable" />
    <echo message="does not pass the verifier." />
  </target>
  
  <target name="echo_portability_WEB_ServletClass_common" if="echo.non.portable.WEB.ServletClass.verifier.usage">
    <echo message="NOTE: This module ${verify.file} demonstrates application server specific functionality and therefore the following test: " />
    <echo message="        tests.web.ServletClass" />
    <echo message="does not pass the verifier." />
  </target>    
  
  <target name="echo_portability_messges" depends="echo_portability_EJB_common,echo_portability_WEB_WarClassesLoadable_common,echo_portability_WEB_AllJSPsCompilable_common, echo_portability_WEB_ServletClass_common"/>
  
  <!-- ======================================================= -->
  <!-- Verify Targets.                                         -->
  <!-- ======================================================= -->
  <target name="verify_common" depends="init_common, setup_env, configPlatform,echo_portability_messges">
    <echo message="Verifying Process for ${verify.file}" />        
    <exec executable="${exec.verifier}" >
        <arg line="${verify.file}"/>
     </exec>  
  </target> 
    
  <target name="verify_noop_common">
    <echo message="This sample does not contain any J2EE application modules to verify."/>
  </target>
  
  <!-- ======================================================= --> 
  <!-- CleanUp Pointbase table Targets.                        --> 
  <!-- ======================================================= -->
  <target name="sql_common" depends="setup_db"> 
  <!-- don't use commander
	 <java classname="com.pointbase.tools.toolsCommander" classpath="${db.classpath}"> 
	   <arg line="${db.driver} ${db.url} ${db.file} ${db.user} ${db.pwd}" /> 
	 </java> -->                  
    <antcall target="common.configure.db">
      <param name="driver" value="${db.driver}" />
      <param name="url" value="${db.url}"/>
      <param name="userid" value="${db.user}"/>
      <param name="password" value="${db.pwd}"/>
      <param name="classpath" value="${db.classpath}"/>
      <!--<param name="delimiter"  value="${db.delimiter}"/>-->
      <!--<param name="autocommit"  value="true"/>-->
      <!--<param name="onerror"  value="continue"/>-->
      <param name="src"  value="${db.file}"/>
    </antcall>
  </target>
 
  
  <!-- ======================================================= -->
  <!--       Targets to deploy/undeploy resources.             -->
  <!-- ======================================================= -->
  <target name="create-jdbc-connection-pool_common" depends="setup_db" unless="create.jdbc.conpool.common">
        <exec executable="${exec.asadmin}" >
            <arg line=" create-jdbc-connection-pool"/>
            <arg line=" --user ${admin.user}"/>
            <arg line=" --passwordfile '${admin.password.file}'"/>
            <arg line=" --host ${admin.host}"/>
            <arg line=" --port ${admin.port}"/>
            <arg line=" --datasourceclassname ${ds.class}"/>
            <arg line=" --restype ${restype}"/>
            <arg line=" --steadypoolsize 16"/>
            <arg line=" --maxpoolsize 32"/>
            <arg line=" --property ${db.properties}"/>
            <arg line=" ${conpool.name}"/>
        </exec>
  </target>

  <target name="create-jdbc-resource_common" unless="create.jdbc.resource.common" depends="setup_env">
    <antcall target="admin_command_common">
      <param name="admin.command"
        value="create-jdbc-resource
         --connectionpoolid ${conpool.name} ${extraargs.1} ${jdbc.resource.name}"/>
    </antcall>
  </target>

  <target name="delete-jdbc-connection-pool_common">
    <antcall target="admin_command_common">
      <param name="admin.command"
        value="delete-jdbc-connection-pool --cascade=true ${conpool.name}" />
    </antcall>
  </target>

  <target name="delete-jdbc-resource_common" depends="setup_env">
    <antcall target="admin_command_common">
      <param name="admin.command"
        value="delete-jdbc-resource ${extraargs.1} ${jdbc.resource.name}" />
    </antcall>
  </target>

  <target name="deploy_jdbc_resource_common" depends="setup_env,verify_jdbc_connection_pool_common,verify_jdbc_resource_common">
    <antcall target="create-jdbc-connection-pool_common"/>
    <antcall target="create-jdbc-resource_common"/>
  </target>


  <target name="create-persistence-resource_common" unless="create.persistence.resource.common" depends="setup_env">
    <antcall target="admin_command_common">
      <param name="admin.command"
        value="create-persistence-resource ${extraargs.1} ${pm.resource.name}" />
    </antcall>
    <antcall target="admin_command_common">
      <param name="admin.command" value="set
        domain.resources.persistence-manager-factory-resource.${pm.resource.name}.factory-class=${pm.factory.class}"/>
    </antcall>
    <antcall target="admin_command_common">
      <param name="admin.command" value="set
        domain.resources.persistence-manager-factory-resource.${pm.resource.name}.jdbc-resource-jndi-name=${jdbc.resource.name}" />
    </antcall>
  </target>

  <target name="delete-persiste